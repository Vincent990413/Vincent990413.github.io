<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.6.2" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.6.2" type="image/png" sizes="32x32"><meta property="og:type" content="website">
<meta property="og:title" content="斯人若彩虹 遇上方知有">
<meta property="og:url" content="https://vincent990413.github.io/page/2/index.html">
<meta property="og:site_name" content="斯人若彩虹 遇上方知有">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="何水浪">
<meta name="twitter:card" content="summary"><title>斯人若彩虹 遇上方知有</title><link ref="canonical" href="https://vincent990413.github.io/page/2/index.html"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.6.2"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":false},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"复制","copySuccess":"复制成功","copyError":"复制失败"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="斯人若彩虹 遇上方知有" type="application/atom+xml">
</head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">首页</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">归档</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/"><span class="header-nav-menu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-menu-item__text">分类</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/tags/"><span class="header-nav-menu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-menu-item__text">标签</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/friends/"><span class="header-nav-menu-item__icon"><i class="fas fa-link"></i></span><span class="header-nav-menu-item__text">友链</span></a></div></div><div class="header-nav-search"><span class="header-nav-search__icon"><i class="fas fa-search"></i></span><span class="header-nav-search__text">搜索</span></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">斯人若彩虹 遇上方知有</div><div class="header-banner-info__subtitle"></div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content content-home" id="content"><section class="postlist"><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/05/19/Java%E9%80%82%E5%BA%94%E5%89%8D%E7%AB%AFJSON%E5%8F%82%E6%95%B0-%E4%B8%87%E7%89%A9%E7%9A%86%E5%8F%AFMap/">Java适应前端JSON参数_万物皆可Map</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-05-19</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-05-19</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">448</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">3分</span></span></div></header><div class="post-body"><div class="post-excerpt"><p><strong>来源于之前做过的ECharts引入饼图数据：</strong></p>
<p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://bruce-jj.gitee.io/blog/2021/05/12/VUE%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95%E5%8F%8A%E7%9B%B8%E5%BA%94%E5%BA%94%E7%94%A8-4/#VUE%E4%B8%AD%E6%B7%BB%E5%8A%A0Echarts%E5%8F%AF%E8%A7%86%E5%8C%96%E5%9B%BE%E8%A1%A8" >点我回顾ECharts</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
<p>我们前端图表data中有两个参数：</p>
<ol>
<li><p>name 代表饼图每一部分的名称</p>
</li>
<li><p>value 代表饼图每一部分的数据量（自动根据这个数据量更改比例）</p>
</li>
</ol>
<p><strong>因此我们前端需要复杂处理：name与value</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//同步请求数据</span></span><br><span class="line">$.ajax(&#123;</span><br><span class="line">	<span class="attr">url</span>: <span class="string">&quot;$&#123;request.getContexPath()&#125;/meal/showData&quot;</span>,</span><br><span class="line">	<span class="attr">type</span>: <span class="string">&quot;POST&quot;</span>,</span><br><span class="line">	<span class="attr">dataType</span>: <span class="string">&quot;JSON&quot;</span>,</span><br><span class="line">	<span class="attr">async</span>: <span class="literal">false</span>,</span><br><span class="line">	<span class="comment">// 回调函数</span></span><br><span class="line">	<span class="attr">success</span>: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>)</span>&#123;</span><br><span class="line">		data = res <span class="comment">//这里具体看链接中 引入的饼图ECharts</span></span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">error</span>: <span class="function"><span class="keyword">function</span> (<span class="params">error</span>)</span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(error)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p><strong>data中是这样的:</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data:[ &#123; <span class="string">&quot;name&quot;</span>: <span class="string">&quot;bookName&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;20&quot;</span> &#125;]</span><br></pre></td></tr></table></div></figure>

<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">  <span class="meta">@ResponseBody</span>  <span class="meta">@RequestMapping(&quot;/showData&quot;)</span>  <span class="keyword">public</span> List&lt;Map&lt;String,Object&gt;&gt; showData(</span><br><span class="line">	Model model, </span><br><span class="line">	HttpServletRequest request)&#123;</span><br><span class="line">		      <span class="comment">//  查询所有订单信息</span>      List&lt;OrderItem&gt; list = orderItemService.list();</span><br><span class="line"></span><br><span class="line"><span class="comment">//map: productId(Integer类型) 次数(Integer类型) </span>      Map&lt;Integer,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历所有待处理的list</span>      <span class="comment">//利用map的键值唯一性统计各（具体item对象）数量</span>      list.forEach(i -&gt; &#123;</span><br><span class="line">	<span class="comment">//如果存在对应的pid 作为键 那么就累加sum</span></span><br><span class="line">	<span class="comment">//否则（第一次检索） 赋值为默认1</span>          map.merge(i.getPid(), <span class="number">1</span>, Integer::sum);      &#125;);      <span class="comment">//查询商品名字返回结果集</span></span><br><span class="line"><span class="comment">//值用Object更加的灵活</span>      List&lt;Map&lt;String,Object&gt;&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();	      <span class="comment">//map映射转换为 集合set</span>      Set&lt;Map.Entry&lt;Integer, Integer&gt;&gt; entries = map.entrySet();</span><br><span class="line">      <span class="comment">//遍历这个集合</span>      entries.forEach(entry -&gt; &#123;          Map&lt;String,Object&gt; map1 = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">	          <span class="comment">//获取到集合中的每一个key值</span>          Integer key = entry.getKey();</span><br><span class="line">	          <span class="comment">//根据这个key值（也就是pid) 去找对应的product对象</span>          Product product = productService.get(key);</span><br><span class="line">	          <span class="comment">//将需要两个属性 put进去</span>          <span class="comment">//我们需要前端data的name:val value:value</span>          map1.put(<span class="string">&quot;name&quot;</span>, product.getName());          map1.put(<span class="string">&quot;value&quot;</span>, entry.getValue());          res.add(map1);      &#125;);      <span class="keyword">return</span>  res;  &#125;</span><br></pre></td></tr></table></div></figure>

</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/05/18/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0-%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F/">设计模式学习_装饰器模式</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-05-18</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-06-10</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">1k</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">6分</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="装饰器模式-Decorator-Pattern"   >
          <a href="#装饰器模式-Decorator-Pattern" class="heading-link"><i class="fas fa-link"></i></a><a href="#装饰器模式-Decorator-Pattern" class="headerlink" title="装饰器模式  Decorator Pattern"></a>装饰器模式  Decorator Pattern</h1>
      <iframe width="560" height="315" src="https://www.youtube.com/embed/GCraGHx6gso" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<ul>
<li>试想有一个<strong>平安夜苹果</strong>，我们用一个精美的盒子将其装入，同时我们可以按照自己的需要，在最外层继续装精美的盒子（例子不太恰当）。</li>
</ul>
<p><strong>而这就是装饰器模式，本身的工作原理。</strong></p>

        <h2 id="定义"   >
          <a href="#定义" class="heading-link"><i class="fas fa-link"></i></a><a href="#定义" class="headerlink" title="定义"></a>定义</h2>
      <p><strong>1. 装饰器模式，允许我们像现有的对象添加新的功能同时不改变其设计结构。</strong>    </p>
<p><strong>2. 是作为现有类的一个包装，即本质上，还是这个类</strong></p>
<p><strong>3. 动态扩展或者撤销类的功能</strong></p>
<p>同时，装饰器模式可以解决，一般继承Inheritance的缺陷。</p>
<p>我们知道，<strong>当一个类继承另一个类是，它必须具备这个类的所有功能（包括属性与方法）。</strong></p>
<p>这样是有缺陷的，比如：</p>
<p>我们有一个<strong>叫做Beverage 饮料的类 是一个抽象类（代表我们不能像接口一样 去实例化）</strong></p>
<p>其中，Beverage有价格属性以及得到价格的方法</p>
<p>现在Beverage有两个子类：<strong>1. 咖啡 2. 茶</strong></p>
<p><strong>现在我们按照一般的思路来添加功能，就是直接在Beverage类中添加（比如咖啡是否加牛奶）</strong></p>
<p>但是，试想一下，如果有牛奶这个属性，对于茶来说，就可能显得没必要了（抱歉如果你喜欢这么搭配，无意冒犯）</p>
<ul>
<li><strong>也就是说，部分子类有时，没必要拥有父类的所有信息。</strong></li>
</ul>
<p>所以，我们的装饰器模式就是来解决这样的问题：<strong>如何在不更改已有代码的同时，更高效地添加对象的功能。</strong></p>

        <h2 id="UML图示"   >
          <a href="#UML图示" class="heading-link"><i class="fas fa-link"></i></a><a href="#UML图示" class="headerlink" title="UML图示"></a>UML图示</h2>
      <p><img   src="https://img-blog.csdnimg.cn/20210518105159541.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<p>从这个图中，我们需要看到最重要的概念：</p>
<ol>
<li>对于装饰器来说，它<strong>即具有饮料成员变量，同时自己又是一个饮料</strong></li>
</ol>
<p><strong>很好解释：对于奶茶店里的珍珠，首先它要知道自己加到哪杯饮料上去，其次加到那杯饮料过后，它们共同组成了一杯新的饮料。</strong></p>
<p>这样，一层一层的包裹，可以动态地延展系统中对象的功能。</p>

        <h2 id="代码实现"   >
          <a href="#代码实现" class="heading-link"><i class="fas fa-link"></i></a><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2>
      <ol>
<li><p>这里我们有Milk与Coffee两种饮料，分别卖5元与10元</p>
</li>
<li><p>这里我们有可选选项Sugar，加糖多加1元</p>
</li>
</ol>
<p>首先我们要有抽象类Beverage.java</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Beverage</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">int</span> <span class="title">getPrice</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p>然后我们有两个继承Beverage的Milk.java与Coffee.java</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Milk</span> <span class="keyword">extends</span> <span class="title">Beverage</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//假设菜单上规定 牛奶一杯5元</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getPrice</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Coffee</span> <span class="keyword">extends</span> <span class="title">Beverage</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//假设菜单上规定 咖啡一杯10元（注意，咖啡与牛奶都是基础选项）</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getPrice</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>接下来我们要有，一个抽象类AddOnDecorator.java</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company.decorator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.company.entity.Beverage;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AddOnDecorator</span> <span class="keyword">extends</span> <span class="title">Beverage</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">int</span> <span class="title">getPrice</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p>最后我们要有自己的可选选项SugarDecorator.java去继承这个抽象类</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company.decorator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.company.entity.Beverage;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SugarDecorator</span> <span class="keyword">extends</span> <span class="title">AddOnDecorator</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//被包裹的内层 不管之前加了什么</span></span><br><span class="line">    <span class="comment">// （可以是咖啡来加糖 也可以是牛奶来加糖）</span></span><br><span class="line">    Beverage beverage;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SugarDecorator</span><span class="params">(Beverage beverage)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.beverage = beverage;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//这里糖是可选选项</span></span><br><span class="line">    <span class="comment">// 当你给已有的饮料加糖时 加上糖后</span></span><br><span class="line">    <span class="comment">// 仍然是饮料 还可以加其他的东西</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getPrice</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.beverage.getPrice() + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p><strong>这里的关键代码是：</strong></p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Beverage beverage;</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>.beverage.getPrice() + <span class="number">1</span>;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p>就相当于<strong>给里层的饮料，加了一层价格1元</strong>，<strong>但是里层的饮料还加了什么我们不在乎。</strong></p>
<p>因为，<strong>不管加了什么可选选项，它同时就是一杯饮料。</strong></p>
<p>最后，我们用Main.java运行即可：</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.company.decorator.SugarDecorator;</span><br><span class="line"><span class="keyword">import</span> com.company.entity.Beverage;</span><br><span class="line"><span class="keyword">import</span> com.company.entity.Coffee;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        Coffee coffee = <span class="keyword">new</span> Coffee();</span><br><span class="line">        System.out.println(<span class="string">&quot;如果只点一杯咖啡，价格是：&quot;</span> + coffee.getPrice()  + <span class="string">&quot;元&quot;</span> );</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;...&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;咖啡太苦了，准备加糖...&quot;</span>);</span><br><span class="line"></span><br><span class="line">        SugarDecorator sugarDecorator = <span class="keyword">new</span> SugarDecorator(coffee);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;加完糖后，整个饮料的价格是：&quot;</span> + sugarDecorator.getPrice());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p><img   src="https://img-blog.csdnimg.cn/20210518110234967.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/05/17/%E6%AF%95%E4%B8%9A%E7%AD%94%E8%BE%A9-%E9%87%8D%E7%82%B9%E5%9B%BE%E8%A1%A8/">毕业答辩_重点图表</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-05-17</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-05-17</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">756</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">3分</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="E-R-图"   >
          <a href="#E-R-图" class="heading-link"><i class="fas fa-link"></i></a><a href="#E-R-图" class="headerlink" title="E-R 图"></a>E-R 图</h1>
      <blockquote>
<p>E-R图也称实体-联系图(Entity Relationship Diagram)，提供了表示实体类型、属性和联系的方法，用来描述现实世界的概念模型。</p>
</blockquote>
<ol>
<li><p><strong>矩形框代表实体</strong></p>
</li>
<li><p><strong>菱形框代表联系</strong></p>
</li>
<li><p>实线上的<strong>1:1 1:m m:n</strong>分别代表<strong>一对一、一对多以及多对多关系</strong></p>
</li>
<li><p><strong>椭圆框代表实体的各个属性</strong>，如果是<strong>主键则加上下划线。</strong></p>
</li>
</ol>
<p><img   src="https://img-blog.csdnimg.cn/20210517092317501.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>

        <h1 id="时序图"   >
          <a href="#时序图" class="heading-link"><i class="fas fa-link"></i></a><a href="#时序图" class="headerlink" title="时序图"></a>时序图</h1>
      <blockquote>
<p>时序图（Sequence Diagram），又名序列图、循序图，是一种UML交互图。它通过描述对象之间发送消息的时间顺序显示多个对象之间的动态协作。它可以表示用例的行为顺序，当执行一个用例行为时，其中的每条消息对应一个类操作或状态机中引起转换的触发事件。</p>
</blockquote>
<p><img   src="https://img-blog.csdnimg.cn/20210515133106187.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<p><strong>时序图由以下部分构成：</strong></p>
<ol>
<li>角色</li>
</ol>
<p><strong>角色通常是人（图中的教师）</strong>，当然也可以是系统或者子系统</p>
<ol start="2">
<li>对象</li>
</ol>
<p><strong>对象通常位于时序图的顶部</strong>，一般<strong>直接写类名即可</strong></p>
<ol start="3">
<li>生命线</li>
</ol>
<p><strong>对象下面的虚线</strong>即称为生命线，而<strong>消息在两条生命线之间进行传递</strong></p>
<ol start="4">
<li><p>控制焦点<br>控制焦点，一般指的是<strong>对象下的矩形框</strong>，即<strong>对象操作的声明周期</strong></p>
</li>
<li><p>消息<br>在两条相邻的生命线中，消息在这之间进行传递，<strong>消息传递的本质就是方法的调用</strong>。</p>
</li>
</ol>

        <h1 id="数据流图"   >
          <a href="#数据流图" class="heading-link"><i class="fas fa-link"></i></a><a href="#数据流图" class="headerlink" title="数据流图"></a>数据流图</h1>
      <blockquote>
<p>数据流图（Data Flow Diagram）：简称DFD，它从数据传递和加工角度，以图形方式来表达系统的逻辑功能、数据在系统内部的逻辑流向和逻辑变换过程，是结构化系统分析方法的主要表达工具及用于表示软件模型的一种图示方法。</p>
</blockquote>
<p><img   src="https://img-blog.csdnimg.cn/20210517100409218.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<blockquote>
<p>值得注意的是，数据流图不是传统的流程图或框图，数据流也不是控制流。<strong>数据流图是从数据的角度来描述一个系统</strong>，而<strong>框图是从对数据进行加工的工作人员的角度来描述系统</strong>。</p>
</blockquote>
<p>也就是说，数据流图的根本，就是<strong>用不同层级来描述数据是怎样流动的，从哪里到哪里，中间经过了什么加工处理。</strong></p>
<p>数据流图，分为<strong>顶层与第一层、第二层</strong>…</p>
<p><img   src="https://img-blog.csdnimg.cn/20210517100810557.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>

        <h1 id="UML用例图"   >
          <a href="#UML用例图" class="heading-link"><i class="fas fa-link"></i></a><a href="#UML用例图" class="headerlink" title="UML用例图"></a>UML用例图</h1>
      <blockquote>
<p>用例图是用来描述系统功能的技术，表示一个系统中用例与参与者及其关系的图。</p>
</blockquote>
<p>也就是说，用例图展示的是，<strong>系统为不同参与者提供的不同（用例）的功能。</strong><br><img   src="https://img-blog.csdnimg.cn/20210515132653252.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<ol>
<li><p>参与者一般可以是系统内部的不同角色(<strong>图中的管理员</strong>）、或者也可以是系统外部的参与角色</p>
</li>
<li><p>一个用例是一个基本单元（<strong>图中的个人信息管理、教师管理</strong>等等）</p>
</li>
<li><p>用例与用例之间具备一些关系（比如<strong>图中虚线表示的的包含关系</strong>等等）</p>
</li>
</ol>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/05/17/%E6%AF%95%E4%B8%9A%E7%AD%94%E8%BE%A9-%E6%80%BB%E4%BD%93%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/">毕业答辩_总体注意事项</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-05-17</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-05-17</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">911</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">4分</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="答辩需要注意的事情"   >
          <a href="#答辩需要注意的事情" class="heading-link"><i class="fas fa-link"></i></a><a href="#答辩需要注意的事情" class="headerlink" title="答辩需要注意的事情"></a>答辩需要注意的事情</h1>
      
        <h2 id="封面一定保持校正一致"   >
          <a href="#封面一定保持校正一致" class="heading-link"><i class="fas fa-link"></i></a><a href="#封面一定保持校正一致" class="headerlink" title="封面一定保持校正一致"></a>封面一定保持校正一致</h2>
      <ol>
<li><p><strong>大数据学院加上</strong></p>
</li>
<li><p><strong>校外指导教师不能少</strong></p>
</li>
<li><p>日期已正确 勿修改</p>
</li>
</ol>
<p><img   src="https://img-blog.csdnimg.cn/20210515133239479.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>

        <h2 id="摘要"   >
          <a href="#摘要" class="heading-link"><i class="fas fa-link"></i></a><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h2>
      <ol>
<li><p><strong>研究什么东西（涉及到论文题目的解析）</strong> </p>
</li>
<li><p>用的什么<strong>技术（SpringMVC+Spring+Mybatis 凡是论文中出现的英文名 要知道是什么）</strong> </p>
</li>
<li><p>关键词语：<strong>要体现论文的题目 言简意赅 突出业务核心 不要冗余</strong></p>
</li>
</ol>

        <h2 id="英文摘要"   >
          <a href="#英文摘要" class="heading-link"><i class="fas fa-link"></i></a><a href="#英文摘要" class="headerlink" title="英文摘要"></a>英文摘要</h2>
      <p><strong>检查单词之间是否有空格 首字母大写</strong></p>

        <h2 id="目录"   >
          <a href="#目录" class="heading-link"><i class="fas fa-link"></i></a><a href="#目录" class="headerlink" title="目录"></a>目录</h2>
      <p>一定要<strong>删掉目录中的目录。</strong></p>
<p>以及<strong>英文摘要与绪论之间</strong><br><img   src="https://img-blog.csdnimg.cn/20210515110256221.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>

        <h2 id="页眉"   >
          <a href="#页眉" class="heading-link"><i class="fas fa-link"></i></a><a href="#页眉" class="headerlink" title="页眉"></a>页眉</h2>
      <p>记得<strong>要带编号</strong></p>
<p><img src="https://img-blog.csdnimg.cn/20210515133433501.png" alt="在这里插入图片描述"></p>

        <h2 id="绪论-前言"   >
          <a href="#绪论-前言" class="heading-link"><i class="fas fa-link"></i></a><a href="#绪论-前言" class="headerlink" title="绪论 | 前言"></a>绪论 | 前言</h2>
      <p><strong>切记，不要内容太少了。要保证字数要有一页！！！</strong></p>
<p><strong>技术介绍：</strong><br>    1. Tomcat（具体是干什么的？）<br>    2. Spring…（<strong>常见的后台框架</strong>，以及简单的运作原理）<br>    3. Ajax以及前端框架Bootstrap等等（<strong>记得概念</strong>）</p>
<ul>
<li>注意，<strong>格式：如果要么是Mybatis就全文全部都是Mybatis！不要来个mybatis</strong></li>
</ul>

        <h2 id="系统分析"   >
          <a href="#系统分析" class="heading-link"><i class="fas fa-link"></i></a><a href="#系统分析" class="headerlink" title="系统分析"></a>系统分析</h2>
      <ol>
<li><p>可行性（XX可行性分析等等）</p>
</li>
<li><p> 功能分析（几个角色）</p>
</li>
<li><p>用例分析：（提供<strong>用例图（执行人以及执行功能）</strong>、增加<strong>用例说明（业务逻辑）</strong>）</p>
</li>
</ol>

        <h3 id="用例图"   >
          <a href="#用例图" class="heading-link"><i class="fas fa-link"></i></a><a href="#用例图" class="headerlink" title="用例图"></a>用例图</h3>
      <ul>
<li>要了解用例图的意义，以及其中的基本组成成分。<br><img   src="https://img-blog.csdnimg.cn/20210515132653252.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></li>
<li><em>对用例图，要辅佐于一定的用例说明，否则无法根据业务进行代码编写。</em>*</li>
</ul>
<p><img   src="https://img-blog.csdnimg.cn/20210515132707184.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>

        <h3 id="功能结构图"   >
          <a href="#功能结构图" class="heading-link"><i class="fas fa-link"></i></a><a href="#功能结构图" class="headerlink" title="功能结构图"></a>功能结构图</h3>
      <p><strong># 注意结构图，要条状清晰，整体对齐</strong><br><img   src="https://img-blog.csdnimg.cn/20210515111102553.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>

        <h2 id="系统设计"   >
          <a href="#系统设计" class="heading-link"><i class="fas fa-link"></i></a><a href="#系统设计" class="headerlink" title="系统设计"></a>系统设计</h2>
      
        <h3 id="数据库设计"   >
          <a href="#数据库设计" class="heading-link"><i class="fas fa-link"></i></a><a href="#数据库设计" class="headerlink" title="数据库设计"></a>数据库设计</h3>
      
        <h4 id="实体图"   >
          <a href="#实体图" class="heading-link"><i class="fas fa-link"></i></a><a href="#实体图" class="headerlink" title="实体图"></a>实体图</h4>
      <p><strong>实体图不是E-R图</strong></p>
<p>一般来说，<strong>写了几个实体图，就要有对应的几个E-R图</strong>。</p>
<p><strong>每个字段要知道什么意思！</strong><br><img   src="https://img-blog.csdnimg.cn/20210515132854242.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>

        <h4 id="E-R图"   >
          <a href="#E-R图" class="heading-link"><i class="fas fa-link"></i></a><a href="#E-R图" class="headerlink" title="E-R图"></a>E-R图</h4>
      <p>注意，要搞清楚一对多的关系！（<strong>检查数据库，表与表之间的关系。</strong>）</p>
<p><strong>要对应实体图！</strong></p>
<p>一对多，一对一一般不做多的表，多对多要建立新的表。</p>

        <h3 id="时序图"   >
          <a href="#时序图" class="heading-link"><i class="fas fa-link"></i></a><a href="#时序图" class="headerlink" title="时序图"></a>时序图</h3>
      <p><img   src="https://img-blog.csdnimg.cn/20210515133106187.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>

        <h2 id="系统实现"   >
          <a href="#系统实现" class="heading-link"><i class="fas fa-link"></i></a><a href="#系统实现" class="headerlink" title="系统实现"></a>系统实现</h2>
      
        <h3 id="代码讲解"   >
          <a href="#代码讲解" class="heading-link"><i class="fas fa-link"></i></a><a href="#代码讲解" class="headerlink" title="代码讲解"></a>代码讲解</h3>
      <p>要<strong>注意找到对应的后台代码</strong></p>
<p><strong>以登录举例：（如果老师问，就在对应的页面操作！）</strong></p>
<ol>
<li>运行代码，按F12，调出控制台<br><img   src="https://img-blog.csdnimg.cn/20210515134136702.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></li>
</ol>
<ol start="2">
<li>点击对应到后台action的事件，看看触发了什么请求方法名？</li>
</ol>
<p><img   src="https://img-blog.csdnimg.cn/20210515134249327.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"><br><strong>login</strong> 那么在对应后台的Controller中找这个方法！</p>
<p>可以使用快捷键：<code>Ctrl + Shift + R</code> 全局搜索这个RequestMapping</p>
<p><img   src="https://img-blog.csdnimg.cn/20210515134413767.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<ul>
<li>讲代码的时候，不要乱&amp;按照逻辑来讲，尽量编写代码的时候（<strong>见词生意</strong>）</li>
</ul>
<p>==遇到不会的，那就点到为止==</p>
<p><strong>尽量不要贴前端代码，代码不要贴太多，不要超过一页！</strong></p>
<p><img   src="https://img-blog.csdnimg.cn/20210515135042409.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>

        <h2 id="系统测试"   >
          <a href="#系统测试" class="heading-link"><i class="fas fa-link"></i></a><a href="#系统测试" class="headerlink" title="系统测试"></a>系统测试</h2>
      <p><strong>要了解常见的测试方法：黑盒测试，白盒测试。</strong></p>
<p>最好附上，<strong>系统测试表。</strong></p>

        <h2 id="总结"   >
          <a href="#总结" class="heading-link"><i class="fas fa-link"></i></a><a href="#总结" class="headerlink" title="总结"></a>总结</h2>
      <ol>
<li>具体开发个什么东西？</li>
<li>开发的过程中，用到什么工具？</li>
<li>开发过程中，遇到什么具体的问题？</li>
<li>未来维护中，怎么解决所遇到的问题？或者整体是否有更好的架构工具！？</li>
</ol>

        <h2 id="参考文献"   >
          <a href="#参考文献" class="heading-link"><i class="fas fa-link"></i></a><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2>
      <p><strong>姓名，参考来源，时间。</strong></p>
<p>不要有其他的特殊符号，中间<strong>一般只有逗号与点</strong><br><img src="https://img-blog.csdnimg.cn/20210515135345263.png" alt="在这里插入图片描述"><br>注意，如果英文参考文献，单词之间间隔过大，可以通过以下办法调整：</p>
<ol>
<li><p><strong>选中这段英文参考文献</strong></p>
</li>
<li><p><strong>右键段落</strong>（Office 2010为例）</p>
</li>
<li><p>中文版式，中选择<strong>允许西文在单词中间换行</strong></p>
</li>
</ol>
<p><img   src="https://img-blog.csdnimg.cn/20210515135810406.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>

        <h2 id="致谢"   >
          <a href="#致谢" class="heading-link"><i class="fas fa-link"></i></a><a href="#致谢" class="headerlink" title="致谢"></a>致谢</h2>
      <p><strong>检查，不要抄别人的致谢！</strong></p>

        <h2 id="遗留重点"   >
          <a href="#遗留重点" class="heading-link"><i class="fas fa-link"></i></a><a href="#遗留重点" class="headerlink" title="遗留重点"></a>遗留重点</h2>
      <ol>
<li><p>再次熟悉代码</p>
</li>
<li><p>熟悉常见的图（用例图，数据流图，E-R图等等以及其中的概念）</p>
</li>
<li><p>提前检查环境，<strong>数据库+后台+前端页面</strong></p>
</li>
</ol>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/05/16/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/">设计模式学习_观察者模式</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-05-16</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-06-10</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">1k</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">7分</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="观察者模式-Observer-Pattern"   >
          <a href="#观察者模式-Observer-Pattern" class="heading-link"><i class="fas fa-link"></i></a><a href="#观察者模式-Observer-Pattern" class="headerlink" title="观察者模式 Observer Pattern"></a>观察者模式 Observer Pattern</h1>
      <iframe width="560" height="315" src="https://www.youtube.com/embed/_BpmfnqjgzQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p><strong>这很好解释：气象监测总部WeatherStation与我们的手机APP PhoneDisplay之间的关系。</strong></p>
<p>我们看天气的时候，数据都是依照<em>最新的数据变化而变化的，而变化的数据，来源于具体发送数据的仪器（比如天气传感器 Weather Sensor）</em></p>
<p>也就是说，我们可以利用这种模式，<strong>来更好地在数据变化后，让所有显示器设备更新数据变化消息。</strong></p>

        <h2 id="关键概念"   >
          <a href="#关键概念" class="heading-link"><i class="fas fa-link"></i></a><a href="#关键概念" class="headerlink" title="关键概念"></a>关键概念</h2>
      <p><strong>1. 观察者模式定义了一种“一对多”的关系。</strong></p>
<p><strong>2. 当这个关系中的“一”，数据发生变化时，其中所依赖的“多”将会自动地进行变化。</strong></p>
<p><img   src="https://img-blog.csdnimg.cn/20210516212737914.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"><br><strong>解释：</strong></p>
<ol>
<li><p>这里ISubject与IObserver如何体现一对多关系？</p>
</li>
<li><p>为什么PhoneDisplay与TvDisplay要有WeatherStation呢？</p>
</li>
</ol>
<p>对于第一个问题，我们在每个ISubject中，附上一个<code>List&lt;IObserver&gt; observers</code>列表。</p>
<p>对于第二个问题，回答是：我们的显示屏要显示数据变化，<strong>而这些数据来源始终是WeatherStation。</strong></p>
<p>因此，update函数其实要用到WeatherStation的数据。</p>

        <h2 id="代码思路-amp-实现："   >
          <a href="#代码思路-amp-实现：" class="heading-link"><i class="fas fa-link"></i></a><a href="#代码思路-amp-实现：" class="headerlink" title="代码思路&amp;实现："></a>代码思路&amp;实现：</h2>
      <ul>
<li>很简单，如果某一个时刻，WeatherStation中的数据（可以是成员变量）变化了，那么我们就执行notify()来通知List中的每一个Observer。</li>
</ul>
<p>接下来，我们用代码来实现：</p>

        <h3 id="抽象接口层面："   >
          <a href="#抽象接口层面：" class="heading-link"><i class="fas fa-link"></i></a><a href="#抽象接口层面：" class="headerlink" title="抽象接口层面："></a>抽象接口层面：</h3>
      <ol>
<li><p>ISubject.java</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company.inter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ISubject</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(IObserver iObserver)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">remove</span><span class="params">(IObserver iObserver)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">notifyObserver</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure></li>
<li><p>IObserver.java</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company.inter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IObserver</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure></li>
</ol>

        <h3 id="具体实现层面"   >
          <a href="#具体实现层面" class="heading-link"><i class="fas fa-link"></i></a><a href="#具体实现层面" class="headerlink" title="具体实现层面"></a>具体实现层面</h3>
      <ol>
<li><p>WeatherStation</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.company.inter.IObserver;</span><br><span class="line"><span class="keyword">import</span> com.company.inter.ISubject;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WeatherStation</span> <span class="keyword">implements</span> <span class="title">ISubject</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//被注册进来的所有观察者</span></span><br><span class="line">    List&lt;IObserver&gt; observers = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//温度变量 当温度变量发生变化时 通知所有观察者</span></span><br><span class="line">    Integer temperature = <span class="number">18</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//将观察者注册进来 其中就是用list add进来</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(IObserver iObserver)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.observers.add(iObserver);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(IObserver iObserver)</span> </span>&#123;</span><br><span class="line">        observers.remove(iObserver);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//在温度变量发生变化后 每一个观察者通过update方法来得到最新数据</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">notifyObserver</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//通知每一个观察者</span></span><br><span class="line">        <span class="keyword">for</span>(IObserver iObserver: <span class="keyword">this</span>.observers)&#123;</span><br><span class="line">            iObserver.update();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getTemperature</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.temperature;</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//模拟实现数据变化</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setTemperature</span><span class="params">(Integer temperature)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.temperature = temperature;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure></li>
<li><p>PhoneDisplay.java</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.company.inter.IObserver;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PhoneDisplay</span> <span class="keyword">implements</span> <span class="title">IObserver</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    WeatherStation weatherStation; </span><br><span class="line"></span><br><span class="line">    <span class="comment">//我们需要得到变化后的数据信息 因此需要通过构造方法 &lt;绑定&gt; 一个被观察者</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PhoneDisplay</span><span class="params">(WeatherStation weatherStation)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.weatherStation = weatherStation;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//通过这个被观察者的public get方法 我们才可以知道最新的数据信息</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;数据发生变化，最新温度为:&quot;</span> + </span><br><span class="line">        <span class="keyword">this</span>.weatherStation.getTemperature());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure></li>
<li><p>TvDisplay.java</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.company.inter.IObserver;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TvDisplay</span> <span class="keyword">implements</span> <span class="title">IObserver</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    WeatherStation weatherStation;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//我们需要得到变化后的数据信息 因此需要通过构造方法 &lt;绑定&gt; 一个被观察者</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TvDisplay</span><span class="params">(WeatherStation weatherStation)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.weatherStation = weatherStation;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//通过这个被观察者的public get方法 我们才可以知道最新的数据信息</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;数据发生变化，最新温度为:&quot;</span> +</span><br><span class="line">         <span class="keyword">this</span>.weatherStation.getTemperature());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure></li>
</ol>

        <h3 id="主函数："   >
          <a href="#主函数：" class="heading-link"><i class="fas fa-link"></i></a><a href="#主函数：" class="headerlink" title="主函数："></a>主函数：</h3>
      <figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.company.entity.PhoneDisplay;</span><br><span class="line"><span class="keyword">import</span> com.company.entity.TvDisplay;</span><br><span class="line"><span class="keyword">import</span> com.company.entity.WeatherStation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        WeatherStation weatherStation = <span class="keyword">new</span> WeatherStation();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//手机显示器实时绑定天气预报站台</span></span><br><span class="line">        PhoneDisplay phoneDisplay = <span class="keyword">new</span> PhoneDisplay(weatherStation);</span><br><span class="line">        <span class="comment">//电视机显示器实时绑定天气预报站台</span></span><br><span class="line">        TvDisplay tvDisplay = <span class="keyword">new</span> TvDisplay(weatherStation);</span><br><span class="line">        </span><br><span class="line">		<span class="comment">//天气预报站台将手机显示器注册进来</span></span><br><span class="line">        weatherStation.add(phoneDisplay); </span><br><span class="line">        <span class="comment">//天气预报站台将电视机显示器注册进来</span></span><br><span class="line">        weatherStation.add(tvDisplay); </span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;天气正常，一直都是：&quot;</span> + </span><br><span class="line">        String.valueOf(weatherStation.getTemperature()) + <span class="string">&quot;摄氏度.&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;某一时刻，数据突然发生变化...&quot;</span>);</span><br><span class="line">        weatherStation.setTemperature(-<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;天气预报站台准备广播消息！Broadcasting...&quot;</span>);</span><br><span class="line"></span><br><span class="line">        weatherStation.notifyObserver();</span><br><span class="line"></span><br><span class="line">        System.out.print(<span class="string">&quot;手机显示器这边显示：&quot;</span>);</span><br><span class="line">        phoneDisplay.update();</span><br><span class="line"></span><br><span class="line">        System.out.print(<span class="string">&quot;电视机显示器这边显示：&quot;</span>);</span><br><span class="line">        tvDisplay.update();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>


        <h3 id="效果图"   >
          <a href="#效果图" class="heading-link"><i class="fas fa-link"></i></a><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h3>
      <p><img   src="https://img-blog.csdnimg.cn/20210517091903993.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/05/15/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/">设计模式学习_策略模式</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-05-15</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-06-10</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">1k</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">7分</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="策略者模式-Strategy-Pattern"   >
          <a href="#策略者模式-Strategy-Pattern" class="heading-link"><i class="fas fa-link"></i></a><a href="#策略者模式-Strategy-Pattern" class="headerlink" title="策略者模式 Strategy Pattern"></a>策略者模式 Strategy Pattern</h1>
      <iframe width="560" height="315" src="https://www.youtube.com/embed/v9ejT8FO-7I" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


        <h2 id="使用背景"   >
          <a href="#使用背景" class="heading-link"><i class="fas fa-link"></i></a><a href="#使用背景" class="headerlink" title="使用背景"></a>使用背景</h2>
      <ul>
<li>定义： 我们将算法Algorithm与使用者Client分离，让这些使用者自由地选择策略。</li>
</ul>
<p>想象这样一个场景：</p>
<p><strong>有一个基类Duck，它具有两个方法：void eat() 与 void fly()</strong></p>
<p><strong>eat代表吃 fly代表飞行</strong></p>
<p><strong>现在有两个subclass 子类：WildDuck 与 CityDuck</strong></p>
<ol>
<li><p>它们在eat的行为上一摸一样</p>
</li>
<li><p>它们在fly的行为上不一样</p>
</li>
</ol>
<p>试想，如果我们用Java来实现：</p>
<p>整个UML图可能是这样：</p>
<p><img   src="https://img-blog.csdnimg.cn/20210516095210685.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<p><strong>其中，- 代表这是一个私有方法，且void代表它无返回值。</strong></p>
<p><em>前面，我们提到：这两种鸭子的eat行为是一样的，而fly的行为不一样。</em></p>
<p>那么，在这种<strong>单重继承</strong>的情况下，如果eat行为一样，我们只能<strong>重复的复制粘贴代码。</strong></p>
<ul>
<li>想象一下，当子类的数目在需求增大的过程中越来越多？这样的代码不具有高重用性与可维护性。</li>
</ul>

        <h2 id="使用策略者模式解决问题"   >
          <a href="#使用策略者模式解决问题" class="heading-link"><i class="fas fa-link"></i></a><a href="#使用策略者模式解决问题" class="headerlink" title="使用策略者模式解决问题"></a>使用策略者模式解决问题</h2>
      <ol>
<li><p>在上述问题中，eat与fly可以代表两种算法或者策略</p>
</li>
<li><p>使用者就是WildDuck以及CityDuck</p>
</li>
</ol>
<p>我们希望对于不同的使用者，可以任意使用策略。</p>

        <h3 id="解决方案："   >
          <a href="#解决方案：" class="heading-link"><i class="fas fa-link"></i></a><a href="#解决方案：" class="headerlink" title="解决方案："></a>解决方案：</h3>
      <p><strong>我们将同一种策略，封装成接口Interface，然后采用不同的实现策略（即不同的实现类）</strong></p>
<p>同时，将这些接口，注入到我们的使用者中。</p>
<p>使用具体的方法时，我们使用<strong>这些使用者的所注入进来的实现类的具体方法。</strong></p>
<p>直接上UML图：（图不规范，见谅。）</p>
<p><img   src="https://img-blog.csdnimg.cn/20210516100613284.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<p>从这个图中，我们可以看到：</p>
<ol>
<li><p>Duck类具有两个接口:IEatBehavior与IFlyBehavior</p>
</li>
<li><p>每个接口都有若干个实现类（策略）</p>
</li>
<li><p>当子类WildDuck与CityDuck继承Duck时，具有父类的所有资源。</p>
</li>
</ol>
<ul>
<li>那么如何用代码实现呢？</li>
</ul>

        <h3 id="代码实现："   >
          <a href="#代码实现：" class="heading-link"><i class="fas fa-link"></i></a><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h3>
      <ol>
<li>首先，我们要有一个基类 Duck.java以及它的子类 WildDuck.java与CityDuck.java<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.company.inter.IEatBehavior;</span><br><span class="line"><span class="keyword">import</span> com.company.inter.IFlyBehavior;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Duck</span> </span>&#123;</span><br><span class="line">    IEatBehavior iEatBehavior;</span><br><span class="line"></span><br><span class="line">    IFlyBehavior iFlyBehavior;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Duck</span><span class="params">(IEatBehavior iEatBehavior, IFlyBehavior iFlyBehavior)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.iEatBehavior = iEatBehavior;</span><br><span class="line">        <span class="keyword">this</span>.iFlyBehavior = iFlyBehavior;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.iEatBehavior.eat();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.iFlyBehavior.fly();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure></li>
</ol>
<p><strong>可以看到，这里有两个接口，分别代表两种策略（Eat与Fly）</strong></p>
<p><strong># WildDuck.java</strong></p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.company.inter.IEatBehavior;</span><br><span class="line"><span class="keyword">import</span> com.company.inter.IFlyBehavior;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WildDuck</span> <span class="keyword">extends</span> <span class="title">Duck</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WildDuck</span><span class="params">(IEatBehavior iEatBehavior, IFlyBehavior iFlyBehavior)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(iEatBehavior, iFlyBehavior);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p><strong># CityDuck.java</strong></p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.company.inter.IEatBehavior;</span><br><span class="line"><span class="keyword">import</span> com.company.inter.IFlyBehavior;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CityDuck</span> <span class="keyword">extends</span> <span class="title">Duck</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CityDuck</span><span class="params">(IEatBehavior iEatBehavior, IFlyBehavior iFlyBehavior)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(iEatBehavior, iFlyBehavior);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<ol start="2">
<li>定义两种接口</li>
</ol>
<p><strong># iEatBehavior.java</strong></p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company.inter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IEatBehavior</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p><strong># iFlyBehavior.java</strong></p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company.inter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IFlyBehavior</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<ol start="3">
<li>定义这些接口的不同策略实现类</li>
</ol>
<p><strong># SimpleEatBehaviorImpl.java</strong></p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.company.inter.IEatBehavior;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleEatBehaviorImpl</span> <span class="keyword">implements</span> <span class="title">IEatBehavior</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;吃：采用正常吃饭的策略！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p><strong># SimpleFlyBehaviorImpl.java</strong></p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.company.inter.IFlyBehavior;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleFlyBehaviorImpl</span> <span class="keyword">implements</span> <span class="title">IFlyBehavior</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;飞：采用正常飞的策略！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p><strong># JetFlyBehaviorImpl.java</strong></p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.company.inter.IFlyBehavior;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JetFlyBehaviorImpl</span> <span class="keyword">implements</span> <span class="title">IFlyBehavior</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;飞：采用喷气式飞行的策略！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<ul>
<li>那么目前为止，我们已经将这些策略与使用者分离了。</li>
</ul>
<p>使用的时候，我们只需要让他们使用不同的策略即可。</p>
<p><strong># Main.java</strong></p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.company.entity.CityDuck;</span><br><span class="line"><span class="keyword">import</span> com.company.entity.WildDuck;</span><br><span class="line"><span class="keyword">import</span> com.company.impl.JetFlyBehaviorImpl;</span><br><span class="line"><span class="keyword">import</span> com.company.impl.SimpleEatBehaviorImpl;</span><br><span class="line"><span class="keyword">import</span> com.company.impl.SimpleFlyBehaviorImpl;</span><br><span class="line"><span class="keyword">import</span> com.company.inter.IEatBehavior;</span><br><span class="line"><span class="keyword">import</span> com.company.inter.IFlyBehavior;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//对于城市Duck来说 Eat采用的是simpleEat策略 Fly也采用的是simpleFly策略</span></span><br><span class="line">        IEatBehavior iSimpleEatBehavior = <span class="keyword">new</span> SimpleEatBehaviorImpl();</span><br><span class="line">        IFlyBehavior iSimpleFlyBehavior = <span class="keyword">new</span> SimpleFlyBehaviorImpl();</span><br><span class="line">        CityDuck cityDuck = <span class="keyword">new</span> CityDuck(iSimpleEatBehavior, iSimpleFlyBehavior);</span><br><span class="line">        System.out.println(<span class="string">&quot;城市鸭子采用的策略：&quot;</span>);</span><br><span class="line">        cityDuck.eat();</span><br><span class="line">        cityDuck.fly();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//对于城市Duck来说 Eat采用的是simpleEat策略（直接重用） Fly采用的是jetFly策略</span></span><br><span class="line">        IFlyBehavior iJetFlyBehavior = <span class="keyword">new</span> JetFlyBehaviorImpl();</span><br><span class="line">        WildDuck wildDuck = <span class="keyword">new</span> WildDuck(iSimpleEatBehavior, iJetFlyBehavior);</span><br><span class="line">        System.out.println(<span class="string">&quot;接下来是野鸭子采用的策略：&quot;</span>);</span><br><span class="line">        wildDuck.eat();</span><br><span class="line">        wildDuck.fly();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p><strong>效果图：</strong></p>
<p><img   src="https://img-blog.csdnimg.cn/20210516102112668.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/05/07/hexo%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%BB%A5%E5%8F%8A%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF/">Hexo学习笔记以及常见错误</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-05-07</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-05-14</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">881</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">6分</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="前提，注意！"   >
          <a href="#前提，注意！" class="heading-link"><i class="fas fa-link"></i></a><a href="#前提，注意！" class="headerlink" title="前提，注意！"></a>前提，注意！</h1>
      <p><strong>在进行任何更改后，务必进行以下代码：</strong></p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在本地看到效果，而不部署git</span></span><br><span class="line">hexo clean &amp; hexo s</span><br><span class="line"></span><br><span class="line"><span class="comment">//想在git上（比如码云或者github）看到效果</span></span><br><span class="line">hexo clean &amp; hexo g &amp; hexo d</span><br></pre></td></tr></table></div></figure>

<p><strong>在输入hexo g后 才会生成public目录</strong></p>

        <h1 id="引入别人的主题若启动时报以下错误"   >
          <a href="#引入别人的主题若启动时报以下错误" class="heading-link"><i class="fas fa-link"></i></a><a href="#引入别人的主题若启动时报以下错误" class="headerlink" title="引入别人的主题若启动时报以下错误"></a>引入别人的主题若启动时报以下错误</h1>
      <p><strong>extends includes/layout.pug block content include includes/recent-posts.pug include includes/partial</strong></p>
<p>则在博客根路径中，键入以下代码：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-renderer-jade hexo-generator-feed hexo-generator-sitemap hexo-browsersync hexo-generator-archive</span><br></pre></td></tr></table></div></figure>

<p><mark> 在使用别人的主题过程中，一定要去看别人发布的关于这个主题的使用文档！ </mark></p>
<p><mark>看文档！</mark></p>
<p><mark>看文档！</mark></p>
<p><mark>看文档！</mark></p>

        <h1 id="博客中的文章字数统计插件"   >
          <a href="#博客中的文章字数统计插件" class="heading-link"><i class="fas fa-link"></i></a><a href="#博客中的文章字数统计插件" class="headerlink" title="博客中的文章字数统计插件"></a>博客中的文章字数统计插件</h1>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-wordcount --save</span><br></pre></td></tr></table></div></figure>
<p>然后在主题中的配置文件中打开wordcount:<br><img   src="https://img-blog.csdnimg.cn/20210507104215942.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>

        <h1 id="博客中的本地搜索插件"   >
          <a href="#博客中的本地搜索插件" class="heading-link"><i class="fas fa-link"></i></a><a href="#博客中的本地搜索插件" class="headerlink" title="博客中的本地搜索插件"></a>博客中的本地搜索插件</h1>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-json-content --save</span><br></pre></td></tr></table></div></figure>
<ol>
<li><p>在blog根目录中的<code>config.yml</code>中，键入代码：</p>
 <figure class="highlight yml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 本地搜索</span></span><br><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.json</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span></span><br></pre></td></tr></table></div></figure></li>
<li><p>在自己的主题目录下的<code>config.yml</code>中打开本地搜索，键入代码：</p>
 <figure class="highlight yml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  		<span class="comment"># 是否启用</span></span><br><span class="line">  		<span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></div></figure>

        <h1 id="博客中的Valine评论（前提是上传到Gitee或者GitHub）"   >
          <a href="#博客中的Valine评论（前提是上传到Gitee或者GitHub）" class="heading-link"><i class="fas fa-link"></i></a><a href="#博客中的Valine评论（前提是上传到Gitee或者GitHub）" class="headerlink" title="博客中的Valine评论（前提是上传到Gitee或者GitHub）"></a>博客中的Valine评论（前提是上传到Gitee或者GitHub）</h1>
      </li>
<li><p>首先在主题中的<code>config.yml</code>中 找到对应Valine的区域enable相应的Valine插件</p>
 <figure class="highlight yml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Valine</span></span><br><span class="line"><span class="comment"># See: https://valine.js.org/quickstart.html</span></span><br><span class="line"><span class="attr">valine:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Your leancloud application appid.</span></span><br><span class="line">  <span class="attr">appid:</span> <span class="string">LeanCloud上创建的appid</span></span><br><span class="line">  <span class="comment"># Your leancloud application appkey.</span></span><br><span class="line">  <span class="attr">appkey:</span> <span class="string">LeanCloud上创建的appkey</span>	  </span><br><span class="line">  <span class="comment"># Mail notifier.</span></span><br><span class="line">  <span class="attr">notify:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Verification code.</span></span><br><span class="line">  <span class="attr">verify:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Comment box placeholder.</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="string">说点啥再走呗~爱你</span></span><br><span class="line">  <span class="comment"># Gravatar style.</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">mp</span></span><br><span class="line">  <span class="comment"># Custom comment header.</span></span><br><span class="line">  <span class="attr">meta:</span> <span class="string">nick,email</span></span><br><span class="line">  <span class="comment"># Pagination size.</span></span><br><span class="line">  <span class="attr">pageSize:</span> <span class="number">10</span></span><br><span class="line">  <span class="comment"># Article reading statistics.</span></span><br><span class="line">  <span class="attr">visitor:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Whether to record the commenter IP.</span></span><br><span class="line">  <span class="attr">recordIP:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Optional values: en | zh-cn</span></span><br><span class="line">  <span class="attr">language:</span></span><br></pre></td></tr></table></div></figure></li>
<li><p>去<strong>LeanCloud上注册相关应用并打开你的白名单域名</strong>（设置，安全中心）<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://vincent990413.gitee.io/myblog/%E6%A0%B9%E7%9B%AE%E5%BD%95%EF%BC%8C%E6%AF%94%E5%A6%82%EF%BC%9A%60https://vincent990413.gitee.io/myblog/%60" >https://vincent990413.gitee.io/myblog/根目录，比如：`https://vincent990413.gitee.io/myblog/`</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
</li>
<li><p>写完博客，成功<strong>部署到这个白名单页面</strong>即可。</p>
</li>
</ol>

        <h1 id="部署到Gitee过程以及会出现的错误"   >
          <a href="#部署到Gitee过程以及会出现的错误" class="heading-link"><i class="fas fa-link"></i></a><a href="#部署到Gitee过程以及会出现的错误" class="headerlink" title="部署到Gitee过程以及会出现的错误"></a>部署到Gitee过程以及会出现的错误</h1>
      <ol>
<li><p>Gitee创建项目 并获得Git拉取地址(….xxx.git)<br><img   src="https://img-blog.csdnimg.cn/20210507110157389.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="comment">//gitee.com/vincent990413/myblog.git</span></span><br></pre></td></tr></table></div></figure></li>
<li><p>在博客根目录配置文件中指定提交的git地址</p>
<figure class="highlight yml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="comment"># 这个是克隆项目时的地址！</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://gitee.com/vincent990413/myblog.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></div></figure></li>
<li><p>在博客根目录配置文件中引入资源根地址</p>
<figure class="highlight yml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## Set your site url here. For example, if you use GitHub Page, set url as &#x27;https://username.github.io/project&#x27;</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://vincent990413.gitee.io/myblog</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/myblog/</span></span><br></pre></td></tr></table></div></figure></li>
</ol>

        <h1 id="部署项目时出现403-have-no-permission错误"   >
          <a href="#部署项目时出现403-have-no-permission错误" class="heading-link"><i class="fas fa-link"></i></a><a href="#部署项目时出现403-have-no-permission错误" class="headerlink" title="部署项目时出现403 have no permission错误"></a>部署项目时出现403 have no permission错误</h1>
      <p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://blog.csdn.net/zy_crazy_code/article/details/111227472" >点我看解决方案（转）</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>

        <h1 id="部署项目到github-amp-gitee上"   >
          <a href="#部署项目到github-amp-gitee上" class="heading-link"><i class="fas fa-link"></i></a><a href="#部署项目到github-amp-gitee上" class="headerlink" title="部署项目到github&amp;gitee上"></a>部署项目到github&amp;gitee上</h1>
      <p>如果出现Can’t access… 就是网络问题，重复部署即可。</p>

        <h1 id="部署到Github"   >
          <a href="#部署到Github" class="heading-link"><i class="fas fa-link"></i></a><a href="#部署到Github" class="headerlink" title="部署到Github"></a>部署到Github</h1>
      <p>只需要改动博客根目录下的配置文件即可（前提是主题中的配置文件等导航栏、静态图片引入正确）：</p>
<figure class="highlight yml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 访问项目的URL</span></span><br><span class="line"><span class="comment">## Set your site url here. For example, if you use GitHub Page, </span></span><br><span class="line"><span class="comment">## set url as &#x27;https://username.github.io/project&#x27;</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://vincent990413.github.io/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 部署项目的git地址</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="comment"># 这个是克隆项目时的地址！</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://github.com/vincent990413/vincent990413.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></div></figure>

<p>注意：当部署到Gitee码云时，如果页面的静态资源文件无法正常显示，很有可能时引用问题。</p>
<p>比如:<br>如果引入某个照片，如果是部署到Github下，键入代码：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">url: <span class="regexp">/images/my</span>Photo.jpg</span><br></pre></td></tr></table></div></figure>

<p>如果是引入到Gitee中，键入代码：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url: <span class="regexp">/本页上方关于部署到Gitee git地址末尾的二级目录/im</span>ages/myPhoto.jpg</span><br><span class="line"><span class="attr">url</span>: <span class="regexp">/myblog/im</span>ages/myPhoto.jpg</span><br></pre></td></tr></table></div></figure>

<p>而且，需要将静态资源文件，放在根目录以及主题目录的两个source目录下（都要放）。</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/05/07/%E8%8B%B1%E8%AF%AD%E5%AD%A6%E4%B9%A0-16%E4%B8%AA%E4%BB%A3%E6%9B%BFvery%E7%9A%84%E8%A1%A8%E8%BE%BE/">英语学习_16个代替very的表达</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-05-07</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-05-07</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">100</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">1分</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="Get-rid-of-“Very-X”"   >
          <a href="#Get-rid-of-“Very-X”" class="heading-link"><i class="fas fa-link"></i></a><a href="#Get-rid-of-“Very-X”" class="headerlink" title="Get rid of “Very X”"></a>Get rid of “Very X”</h1>
      
        <h2 id="16个代替very-adj-的表达"   >
          <a href="#16个代替very-adj-的表达" class="heading-link"><i class="fas fa-link"></i></a><a href="#16个代替very-adj-的表达" class="headerlink" title="16个代替very + adj 的表达"></a>16个代替very + adj 的表达</h2>
      <div class="table-container"><table>
<thead>
<tr>
<th>普通表达</th>
<th>进阶表达</th>
</tr>
</thead>
<tbody><tr>
<td>Very beautiful</td>
<td>Charming, Gorgeous, Stunning</td>
</tr>
<tr>
<td>Very tired</td>
<td>Exhausted, Completely exhausted</td>
</tr>
<tr>
<td>Very sad</td>
<td>Heart-broken, Devastated</td>
</tr>
<tr>
<td>Very happy</td>
<td>Delighted, Thrilled, Be on cloud nine</td>
</tr>
<tr>
<td>Very surprise</td>
<td>Amazed, Astonished</td>
</tr>
<tr>
<td>Very small</td>
<td>Tiny, Minuscale</td>
</tr>
<tr>
<td>Very big</td>
<td>Huge, Massive, Giant, Tremendous,  Humongous</td>
</tr>
<tr>
<td>Very bad</td>
<td>Horrible, Terrible, Awful, Horrendous</td>
</tr>
<tr>
<td>Very diffcult</td>
<td>Challenging, Demanding</td>
</tr>
<tr>
<td>Very simple</td>
<td>A piece of cake, Staightforward</td>
</tr>
<tr>
<td>Very smart</td>
<td>Witty, Brilliant, Intelligent</td>
</tr>
<tr>
<td>Very important</td>
<td>Crucial, Vital, Essential</td>
</tr>
<tr>
<td>Very interesting</td>
<td>Fascinating, Captivating</td>
</tr>
<tr>
<td>Very hungry</td>
<td>Starving, Famished</td>
</tr>
<tr>
<td>Very angry</td>
<td>Mad, Pissed of, Furious</td>
</tr>
</tbody></table></div>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/05/04/%E5%9F%BA%E4%BA%8EVUE-Firebase%E5%9C%A8%E7%BA%BF%E8%81%8A%E5%A4%A9%E5%AE%A4APP/">基于VUE&amp;Firebase的在线聊天室APP</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-05-04</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-05-04</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">3.1k</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">25分</span></span></div></header><div class="post-body"><div class="post-excerpt"><!-- 页面必备样式 -->
<style>
.back-top{position: fixed;top: 500px;height: 0px;float: right;right: 50px;}
.back-top>a{font-weight:bold;width: 50px;height: 50px;text-align: center;text-decoration: none;font-size: 5px;line-height: 50px;border-radius: 50px;background-color:rgba(255,255,255,0.5);}
</style>
<div class="back-top">
    <a href="#top"> >返回顶部< </a>
</div>
<!-- toc -->
<!-- 必备样式结束 -->


        <h1 id="前言"   >
          <a href="#前言" class="heading-link"><i class="fas fa-link"></i></a><a href="#前言" class="headerlink" title="前言"></a>前言</h1>
      <p><strong>这一期我们准备做一个基于VUE3.0 Composition API与FireBase的在线聊天室</strong></p>
<p><strong>用户登陆到我们的在线聊天室进行聊天</strong></p>

        <h1 id="前期准备"   >
          <a href="#前期准备" class="heading-link"><i class="fas fa-link"></i></a><a href="#前期准备" class="headerlink" title="前期准备"></a>前期准备</h1>
      <p><strong>命令行中利用vue-cli创建vue3.0项目</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vue create test </span><br><span class="line"><span class="comment">//test是项目名</span></span><br></pre></td></tr></table></div></figure>

<p><img   src="https://img-blog.csdnimg.cn/20210504093916655.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<p><strong>选择手动添加Manually select features</strong></p>
<p><img   src="https://img-blog.csdnimg.cn/20210504094100562.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<p><strong>选择上述勾选项</strong></p>
<p><strong>接下来，选择3.x（preview）因为要用到VUE的composition API</strong></p>
<p><strong>选择with node-sass，如下图所示：</strong></p>
<p><img   src="https://img-blog.csdnimg.cn/2021050409425939.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<p><strong>然后一直enter即可，直到出现package.json，如图所示：</strong></p>
<p><strong>选择In package.json</strong></p>
<p><img   src="https://img-blog.csdnimg.cn/20210504094426971.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<p><strong>出现preset选项，选择否 not save</strong></p>
<p><strong>然后经过漫长的等待…</strong></p>
<p><strong>如果一切顺利，那么会出现下图所示：</strong></p>
<p><img   src="https://img-blog.csdnimg.cn/20210504094640180.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Successfully created project test.</span><br><span class="line">Get started <span class="keyword">with</span> the following commands:</span><br><span class="line"></span><br><span class="line">$ cd test</span><br><span class="line">$ npm run serve</span><br></pre></td></tr></table></div></figure>

<p><strong>cd 切换到这个新项目的工作目录。</strong></p>
<p><strong>这个时候我们要安装Firebase数据库用于聊天室中所有消息的存储</strong></p>
<ul>
<li>注意，Firebase由Google创建并持续维护，安装前请科学上网 ✈ ️</li>
</ul>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i firebase</span><br></pre></td></tr></table></div></figure>

<p><strong>目前为止，我们的前期工作就已经做好了！</strong></p>
<p>然后利用VS Code或者IDEA等编译器导入这个VUE项目即可</p>

        <h1 id="配置项目的数据库Firebase"   >
          <a href="#配置项目的数据库Firebase" class="heading-link"><i class="fas fa-link"></i></a><a href="#配置项目的数据库Firebase" class="headerlink" title="配置项目的数据库Firebase"></a>配置项目的数据库Firebase</h1>
      <p><strong>首先，我们需要修改一个配置信息</strong></p>
<p>打开<code>package.json</code> 在”rules”中添加：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;no-unused-vars&quot;</span>: <span class="string">&quot;off&quot;</span></span><br></pre></td></tr></table></div></figure>

<p><strong>因为在做一些初始配置，所以演示的时候，可能会因为定义了未被使用的变量而报错。</strong></p>
<p><img   src="https://img-blog.csdnimg.cn/20210504095902400.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>

        <h2 id="Src-目录下创建db-js-firebase配置数据库信息"   >
          <a href="#Src-目录下创建db-js-firebase配置数据库信息" class="heading-link"><i class="fas fa-link"></i></a><a href="#Src-目录下创建db-js-firebase配置数据库信息" class="headerlink" title="Src 目录下创建db.js firebase配置数据库信息"></a>Src 目录下创建db.js firebase配置数据库信息</h2>
      <p><img   src="https://img-blog.csdnimg.cn/20210504100207129.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<p><strong>进入db.js</strong></p>
<p>输入以下备用代码：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> firebase <span class="keyword">from</span> <span class="string">&quot;firebase/app&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;firebase/database&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">    <span class="comment">//API KEYS</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> db = firebase.initializeApp(config)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> db;</span><br></pre></td></tr></table></div></figure>

<p><strong>这里注意到，我们的config中还没有配置我们firebase的接口信息（包括你这个应用的KEY、用户KEYS、项目ID等等）</strong></p>
<p><strong>因此，接下来我们要去firebase的官网配置：</strong></p>
<ol>
<li><p>点击右上角的转到控制台</p>
</li>
<li><p>点击添加项目并输入项目名称</p>
</li>
<li><p>取消勾选“为此项目启动 Google Analytics分析”</p>
</li>
<li><p>等待正在创建项目…</p>
</li>
</ol>
<p><img   src="https://img-blog.csdnimg.cn/20210504100443748.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<p><img   src="https://img-blog.csdnimg.cn/20210504100648267.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<ol start="5">
<li>点击对应的项目名，顺利的话，会进入以下画面：</li>
</ol>
<p><img   src="https://img-blog.csdnimg.cn/20210504100842673.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<ol start="6">
<li>添加网页端应用，并获取到应用接口信息</li>
</ol>
<p><img   src="https://img-blog.csdnimg.cn/20210504101140579.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<ol start="7">
<li>输入我们的应用别名，注册应用后，可以获得Firebase SDK （下图所示）</li>
</ol>
<p><img   src="https://img-blog.csdnimg.cn/20210504101315653.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<p><strong>由于我们已经在项目中 预先安装了firebase 那么就不用最上面的JS引入语句了</strong></p>
<p><strong>JS文件内容如下：</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="comment">// Your web app&#x27;s Firebase configuration</span></span><br><span class="line">  <span class="keyword">var</span> firebaseConfig = &#123;</span><br><span class="line">    <span class="attr">apiKey</span>: <span class="string">&quot;AIzaSyAgKkSD7cherkQylfbmrr_cCb6awLk9ynk&quot;</span>,</span><br><span class="line">    <span class="attr">authDomain</span>: <span class="string">&quot;test-dc7e4.firebaseapp.com&quot;</span>,</span><br><span class="line">    <span class="attr">projectId</span>: <span class="string">&quot;test-dc7e4&quot;</span>,</span><br><span class="line">    <span class="attr">storageBucket</span>: <span class="string">&quot;test-dc7e4.appspot.com&quot;</span>,</span><br><span class="line">    <span class="attr">messagingSenderId</span>: <span class="string">&quot;594878054873&quot;</span>,</span><br><span class="line">    <span class="attr">appId</span>: <span class="string">&quot;1:594878054873:web:9d533554407419fe7259c8&quot;</span></span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// Initialize Firebase</span></span><br><span class="line">  firebase.initializeApp(firebaseConfig);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></div></figure>

<p><strong>我们需要将firebaseConfig中的内容粘贴到，我们的db.js中去：</strong></p>
<p><strong>我的配置信息如下图所示：</strong></p>
<p><img   src="https://img-blog.csdnimg.cn/20210504101612983.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<ol start="8">
<li>配置实时数据库 RealTime Database </li>
</ol>
<p><strong>这一步，是为了查看聊天室中的实时存储的消息。</strong></p>
<p><img   src="https://img-blog.csdnimg.cn/20210504200221560.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<p>导航栏左侧的Realtime Database实时数据库 一步步创建即可</p>
<ul>
<li>记得数据库位置需要选择美国 US 🇺🇸</li>
</ul>
<p><strong>那么，到目前为止，数据库配置信息完成了。</strong></p>

        <h1 id="进入项目"   >
          <a href="#进入项目" class="heading-link"><i class="fas fa-link"></i></a><a href="#进入项目" class="headerlink" title="进入项目"></a>进入项目</h1>
      
        <h2 id="页面的样式添加"   >
          <a href="#页面的样式添加" class="heading-link"><i class="fas fa-link"></i></a><a href="#页面的样式添加" class="headerlink" title="页面的样式添加"></a>页面的样式添加</h2>
      <p><strong>进入初始话的文件，我们将没用的初始文件都删掉：component以及assets中的内容</strong></p>
<p>进入APP.vue中，写好初始页面：</p>
<figure class="highlight html"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">	<span class="keyword">export</span> <span class="keyword">default</span>&#123;</span></span><br><span class="line"><span class="javascript">		<span class="function"><span class="title">setup</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">			</span></span><br><span class="line"><span class="javascript">			<span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="javascript">				</span></span><br><span class="line"><span class="javascript">			&#125;</span></span><br><span class="line"><span class="javascript">		&#125;</span></span><br><span class="line"><span class="javascript">	&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></div></figure>

<p><strong>我们可以发现，与VUE2.0不同的是，我们使用setup来配置初始化信息，并且在初始化之后，return这些信息，让前端页面任何地方可以引用这些数据（比如用于v-model)。</strong></p>
<p>接下来，将以下样式贴到style中：</p>
<figure class="highlight css"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">	<span class="attribute">font-family</span>: Avenir, Helvetica, Arial, sans-serif;</span><br><span class="line">	-webkit-<span class="attribute">font-smoothing</span>: antialiased;</span><br><span class="line">	-moz-osx-<span class="attribute">font-smoothing</span>: grayscale;</span><br><span class="line">	<span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.view</span> &#123;</span><br><span class="line">	<span class="attribute">display</span>: flex;</span><br><span class="line">	<span class="attribute">justify-content</span>: center;</span><br><span class="line">	<span class="attribute">min-height</span>: <span class="number">100vh</span>;</span><br><span class="line">	<span class="attribute">background-color</span>: <span class="number">#ea526f</span>;</span><br><span class="line">	</span><br><span class="line">	&amp;<span class="selector-class">.login</span> &#123;</span><br><span class="line">		<span class="attribute">align-items</span>: center;</span><br><span class="line">		<span class="selector-class">.login-form</span> &#123;</span><br><span class="line">			<span class="attribute">display</span>: block;</span><br><span class="line">			<span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">			<span class="attribute">padding</span>: <span class="number">15px</span>;</span><br><span class="line">			</span><br><span class="line">			<span class="selector-class">.form-inner</span> &#123;</span><br><span class="line">				<span class="attribute">display</span>: block;</span><br><span class="line">				<span class="attribute">background-color</span>: <span class="number">#FFF</span>;</span><br><span class="line">				<span class="attribute">padding</span>: <span class="number">50px</span> <span class="number">15px</span>;</span><br><span class="line">				<span class="attribute">border-radius</span>: <span class="number">16px</span>;</span><br><span class="line">				<span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">6px</span> <span class="number">12px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>);</span><br><span class="line">				<span class="selector-tag">h1</span> &#123;</span><br><span class="line">					<span class="attribute">color</span>: <span class="number">#AAA</span>;</span><br><span class="line">					<span class="attribute">font-size</span>: <span class="number">28px</span>;</span><br><span class="line">					<span class="attribute">margin-bottom</span>: <span class="number">30px</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="selector-tag">label</span> &#123;</span><br><span class="line">					<span class="attribute">display</span>: block;</span><br><span class="line">					<span class="attribute">margin-bottom</span>: <span class="number">5px</span>;</span><br><span class="line">					<span class="attribute">color</span>: <span class="number">#AAA</span>;</span><br><span class="line">					<span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">					<span class="attribute">transition</span>: <span class="number">0.4s</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;text&quot;</span>]</span> &#123;</span><br><span class="line">					appearance: none;</span><br><span class="line">					<span class="attribute">border</span>: none;</span><br><span class="line">					<span class="attribute">outline</span>: none;</span><br><span class="line">					<span class="attribute">background</span>: none;</span><br><span class="line">					<span class="attribute">display</span>: block;</span><br><span class="line">					<span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">					<span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">15px</span>;</span><br><span class="line">					<span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">					<span class="attribute">margin-bottom</span>: <span class="number">15px</span>;</span><br><span class="line">					</span><br><span class="line">					<span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">					<span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">					<span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">0px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">					<span class="attribute">background-color</span>: <span class="number">#F3F3F3</span>;</span><br><span class="line">					<span class="attribute">transition</span>: <span class="number">0.4s</span>;</span><br><span class="line">					&amp;<span class="selector-pseudo">::placeholder</span> &#123;</span><br><span class="line">						<span class="attribute">color</span>: <span class="number">#888</span>;</span><br><span class="line">						<span class="attribute">transition</span>: <span class="number">0.4s</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;submit&quot;</span>]</span> &#123;</span><br><span class="line">					appearance: none;</span><br><span class="line">					<span class="attribute">border</span>: none;</span><br><span class="line">					<span class="attribute">outline</span>: none;</span><br><span class="line">					<span class="attribute">background</span>: none;</span><br><span class="line">					<span class="attribute">display</span>: block;</span><br><span class="line">					<span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">					<span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">15px</span>;</span><br><span class="line">					<span class="attribute">background-color</span>: <span class="number">#ea526f</span>;</span><br><span class="line">					<span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">					<span class="attribute">color</span>: <span class="number">#FFF</span>;</span><br><span class="line">					<span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">					<span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				&amp;<span class="selector-pseudo">:focus</span>-within &#123;</span><br><span class="line">					<span class="selector-tag">label</span> &#123;</span><br><span class="line">						<span class="attribute">color</span>: <span class="number">#ea526f</span>;</span><br><span class="line">					&#125;</span><br><span class="line">					<span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;text&quot;</span>]</span> &#123;</span><br><span class="line">						<span class="attribute">background-color</span>: <span class="number">#FFF</span>;</span><br><span class="line">						<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">6px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>);</span><br><span class="line">						&amp;<span class="selector-pseudo">::placeholder</span> &#123;</span><br><span class="line">							<span class="attribute">color</span>: <span class="number">#666</span>;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	&amp;<span class="selector-class">.chat</span> &#123;</span><br><span class="line">		<span class="attribute">flex-direction</span>: column;</span><br><span class="line">		<span class="selector-tag">header</span> &#123;</span><br><span class="line">			<span class="attribute">position</span>: relative;</span><br><span class="line">			<span class="attribute">display</span>: block;</span><br><span class="line">			<span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">			<span class="attribute">padding</span>: <span class="number">50px</span> <span class="number">30px</span> <span class="number">10px</span>;</span><br><span class="line">			<span class="selector-class">.logout</span> &#123;</span><br><span class="line">				<span class="attribute">position</span>: absolute;</span><br><span class="line">				<span class="attribute">top</span>: <span class="number">15px</span>;</span><br><span class="line">				<span class="attribute">right</span>: <span class="number">15px</span>;</span><br><span class="line">				appearance: none;</span><br><span class="line">				<span class="attribute">border</span>: none;</span><br><span class="line">				<span class="attribute">outline</span>: none;</span><br><span class="line">				<span class="attribute">background</span>: none;</span><br><span class="line">				</span><br><span class="line">				<span class="attribute">color</span>: <span class="number">#FFF</span>;</span><br><span class="line">				<span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">				<span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span><br><span class="line">				<span class="attribute">text-align</span>: right;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="selector-tag">h1</span> &#123;</span><br><span class="line">				<span class="attribute">color</span>: <span class="number">#FFF</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="selector-class">.chat-box</span> &#123;</span><br><span class="line">			<span class="attribute">border-radius</span>: <span class="number">24px</span> <span class="number">24px</span> <span class="number">0px</span> <span class="number">0px</span>;</span><br><span class="line">			<span class="attribute">background-color</span>: <span class="number">#FFF</span>;</span><br><span class="line">			<span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">12px</span> <span class="built_in">rgba</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">0.2</span>);</span><br><span class="line">			<span class="attribute">flex</span>: <span class="number">1</span> <span class="number">1</span> <span class="number">100%</span>;</span><br><span class="line">			<span class="attribute">padding</span>: <span class="number">30px</span>;</span><br><span class="line">			<span class="selector-class">.message</span> &#123;</span><br><span class="line">				<span class="attribute">display</span>: flex;</span><br><span class="line">				<span class="attribute">margin-bottom</span>: <span class="number">15px</span>;</span><br><span class="line">				</span><br><span class="line">				<span class="selector-class">.message-inner</span> &#123;</span><br><span class="line">					<span class="selector-class">.username</span> &#123;</span><br><span class="line">						<span class="attribute">color</span>: <span class="number">#888</span>;</span><br><span class="line">						<span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">						<span class="attribute">margin-bottom</span>: <span class="number">5px</span>;</span><br><span class="line">						<span class="attribute">padding-left</span>: <span class="number">15px</span>;</span><br><span class="line">						<span class="attribute">padding-right</span>: <span class="number">15px</span>;</span><br><span class="line">					&#125;</span><br><span class="line">					<span class="selector-class">.content</span> &#123;</span><br><span class="line">						<span class="attribute">display</span>: inline-block;</span><br><span class="line">						<span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">20px</span>;</span><br><span class="line">						<span class="attribute">background-color</span>: <span class="number">#F3F3F3</span>;</span><br><span class="line">						<span class="attribute">border-radius</span>: <span class="number">999px</span>;</span><br><span class="line">						<span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">						<span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">						<span class="attribute">line-height</span>: <span class="number">1.2em</span>;</span><br><span class="line">						<span class="attribute">text-align</span>: left;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				&amp;<span class="selector-class">.current-user</span> &#123;</span><br><span class="line">					<span class="attribute">margin-top</span>: <span class="number">30px</span>;</span><br><span class="line">					<span class="attribute">justify-content</span>: flex-end;</span><br><span class="line">					<span class="attribute">text-align</span>: right;</span><br><span class="line">					<span class="selector-class">.message-inner</span> &#123;</span><br><span class="line">						<span class="attribute">max-width</span>: <span class="number">75%</span>;</span><br><span class="line">						<span class="selector-class">.content</span> &#123;</span><br><span class="line">							<span class="attribute">color</span>: <span class="number">#FFF</span>;</span><br><span class="line">							<span class="attribute">font-weight</span>: <span class="number">600</span>;</span><br><span class="line">							<span class="attribute">background-color</span>: <span class="number">#ea526f</span>;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="selector-tag">footer</span> &#123;</span><br><span class="line">			<span class="attribute">position</span>: sticky;</span><br><span class="line">			<span class="attribute">bottom</span>: <span class="number">0px</span>;</span><br><span class="line">			<span class="attribute">background-color</span>: <span class="number">#FFF</span>;</span><br><span class="line">			<span class="attribute">padding</span>: <span class="number">30px</span>;</span><br><span class="line">			<span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">12px</span> <span class="built_in">rgba</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">0.2</span>);</span><br><span class="line">			<span class="selector-tag">form</span> &#123;</span><br><span class="line">				<span class="attribute">display</span>: flex;</span><br><span class="line">				<span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;text&quot;</span>]</span> &#123;</span><br><span class="line">					<span class="attribute">flex</span>: <span class="number">1</span> <span class="number">1</span> <span class="number">100%</span>;</span><br><span class="line">					appearance: none;</span><br><span class="line">					<span class="attribute">border</span>: none;</span><br><span class="line">					<span class="attribute">outline</span>: none;</span><br><span class="line">					<span class="attribute">background</span>: none;</span><br><span class="line">					<span class="attribute">display</span>: block;</span><br><span class="line">					<span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">					<span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">15px</span>;</span><br><span class="line">					<span class="attribute">border-radius</span>: <span class="number">8px</span> <span class="number">0px</span> <span class="number">0px</span> <span class="number">8px</span>;</span><br><span class="line">					</span><br><span class="line">					<span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">					<span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">					<span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">0px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">					<span class="attribute">background-color</span>: <span class="number">#F3F3F3</span>;</span><br><span class="line">					<span class="attribute">transition</span>: <span class="number">0.4s</span>;</span><br><span class="line">					&amp;<span class="selector-pseudo">::placeholder</span> &#123;</span><br><span class="line">						<span class="attribute">color</span>: <span class="number">#888</span>;</span><br><span class="line">						<span class="attribute">transition</span>: <span class="number">0.4s</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				</span><br><span class="line">				<span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;submit&quot;</span>]</span> &#123;</span><br><span class="line">					appearance: none;</span><br><span class="line">					<span class="attribute">border</span>: none;</span><br><span class="line">					<span class="attribute">outline</span>: none;</span><br><span class="line">					<span class="attribute">background</span>: none;</span><br><span class="line">					<span class="attribute">display</span>: block;</span><br><span class="line">					<span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">15px</span>;</span><br><span class="line">					<span class="attribute">border-radius</span>: <span class="number">0px</span> <span class="number">8px</span> <span class="number">8px</span> <span class="number">0px</span>;</span><br><span class="line">					<span class="attribute">background-color</span>: <span class="number">#ea526f</span>;</span><br><span class="line">					<span class="attribute">color</span>: <span class="number">#FFF</span>;</span><br><span class="line">					<span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">					<span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h2 id="登陆模块"   >
          <a href="#登陆模块" class="heading-link"><i class="fas fa-link"></i></a><a href="#登陆模块" class="headerlink" title="登陆模块"></a>登陆模块</h2>
      <ul>
<li><p>定义默认提交进入的方法 @submit.prevent=”Login” 绑定事件</p>
</li>
<li><p>定义登陆时，输入框中输入的信息所绑定的变量(导入vue的ref) const inputUsername = ref(“”);</p>
</li>
<li><p>登录时，将输入框中的值对应的信息保存数据库中，否则下次登陆系统后，以前的信息（包括用户名与消息）都不会保存起来(导入vue的reactive响应变动)</p>
</li>
</ul>
<ol>
<li>JS中的setup中配置相应的变量与方法（记得返回这些数据让页面显示可以使用）</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; reactive, onMounted, ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> db <span class="keyword">from</span> <span class="string">&#x27;./db&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line">	setup () &#123;</span><br><span class="line">		<span class="comment">//定义输入框输入绑定的变量 以及 保存用户信息的state变量</span></span><br><span class="line">		<span class="keyword">const</span> inputUsername = ref(<span class="string">&quot;&quot;</span>); <span class="comment">//初始化为空 相当于vue2.0的 inputUsername: &#x27;&#x27;</span></span><br><span class="line">		<span class="keyword">const</span> state = reactive(&#123; <span class="comment">//用户发的信息 后面会用到</span></span><br><span class="line">			<span class="attr">username</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">			<span class="attr">messages</span>: [] </span><br><span class="line">		&#125;);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//定义表单提交绑定的方法</span></span><br><span class="line">		<span class="keyword">const</span> Login = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">			<span class="comment">//与vue2.0不同的是 我们不再用this.val</span></span><br><span class="line">			<span class="comment">//检测到用户输入信息 就存储用户登陆信息</span></span><br><span class="line">			<span class="keyword">if</span>(inputUsername.value != <span class="string">&quot;&quot;</span> || inputUsername.value != <span class="literal">null</span>)&#123;</span><br><span class="line">				state.username = inputUsername.value;</span><br><span class="line">				inputUsername.value = <span class="string">&quot;&quot;</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span>&#123;</span><br><span class="line">			inputUsername,</span><br><span class="line">			Login,</span><br><span class="line">			state</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>
<ol start="2">
<li>页面显示</li>
</ol>
<figure class="highlight html"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;view login&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;state.username === &#x27;&#x27; || state.username === null&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">class</span>=<span class="string">&quot;login-form&quot;</span> @<span class="attr">submit.prevent</span>=<span class="string">&quot;Login&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-inner&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Login to FireChat<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;username&quot;</span>&gt;</span>Username<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> </span></span><br><span class="line"><span class="tag">          <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> </span></span><br><span class="line"><span class="tag">          <span class="attr">v-model</span>=<span class="string">&quot;inputUsername&quot;</span> </span></span><br><span class="line"><span class="tag">          <span class="attr">placeholder</span>=<span class="string">&quot;Please enter your username...&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> </span></span><br><span class="line"><span class="tag">          <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> </span></span><br><span class="line"><span class="tag">          <span class="attr">value</span>=<span class="string">&quot;Login&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;view chat&quot;</span> <span class="attr">v-else</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">h1</span>&gt;</span> 这是聊天室显示区域 <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></div></figure>

<p><strong>用户界面效果图，如下图所示：</strong></p>
<p><img   src="https://img-blog.csdnimg.cn/20210504194806246.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<p><strong>可以看到，我们使用了v-if进行判断</strong></p>
<p><strong>如果存储在state中的用户名信息不为空（即表示用户填入了信息想进入聊天室）</strong></p>
<p><strong>则显示这是聊天室显示区域 否则会显示登陆区域让用户进行登陆(由于是在线聊天室，不设置密码)</strong></p>
<ol start="3">
<li>从聊天室中注销出来</li>
</ol>
<p><strong>刚才我们模拟进入了聊天室，现在我们添加注销功能</strong></p>
<figure class="highlight html"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;view chat&quot;</span> <span class="attr">v-else</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;logout&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;Logout&quot;</span>&gt;</span>Logout<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Welcome, &#123;&#123; state.username &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></div></figure>

<p><strong>前端页面写好了，补充JS中的Logout方法，还是写在setup中</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Logout = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">	state.username = <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//别忘了return 让前端页面调用</span></span><br><span class="line"><span class="keyword">return</span>&#123;</span><br><span class="line">	...Login,</span><br><span class="line">	state,</span><br><span class="line">	Logout </span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p><strong>前面提到了，当state中的username为空或者为null时，会显示登陆区域。</strong></p>
<ol start="4">
<li>为聊天室添加（发送消息，查看消息功能）</li>
</ol>
<p><strong>这是最后一个步骤了，也是需要用到firebase（特别是我们刚才配置的实时数据库）的一步</strong></p>
<p>首先在刚才注销区域<code>&lt;header&gt;</code>标签 的下方，加入代码：</p>
<figure class="highlight html"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;chat-box&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> </span></span><br><span class="line"><span class="tag">	<span class="attr">v-for</span>=<span class="string">&quot;message in state.messages&quot;</span> </span></span><br><span class="line"><span class="tag">	<span class="attr">:key</span>=<span class="string">&quot;message.key&quot;</span> </span></span><br><span class="line"><span class="tag">	<span class="attr">:class</span>=<span class="string">&quot;(message.username == state.username ? &#x27;message current-user&#x27; : &#x27;message&#x27;)&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;message-inner&quot;</span>&gt;</span></span><br><span class="line">	  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;username&quot;</span>&gt;</span>&#123;&#123; message.username &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span>&#123;&#123; message.content &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> @<span class="attr">submit.prevent</span>=<span class="string">&quot;SendMessage&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">input</span> </span></span><br><span class="line"><span class="tag">	  <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> </span></span><br><span class="line"><span class="tag">	  <span class="attr">v-model</span>=<span class="string">&quot;inputMessage&quot;</span> </span></span><br><span class="line"><span class="tag">	  <span class="attr">placeholder</span>=<span class="string">&quot;Write a message...&quot;</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">input</span> </span></span><br><span class="line"><span class="tag">	  <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> </span></span><br><span class="line"><span class="tag">	  <span class="attr">value</span>=<span class="string">&quot;Send&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br></pre></td></tr></table></div></figure>

<p><em>可以看到，我们用到了SendMessage方法用来发送数据</em></p>
<ul>
<li><p>用到了state中的messages并且将当前用户的前端样式区别于其他用户</p>
</li>
<li><p>并且从messages中取出所有消息 利用v-for在前端中显示</p>
</li>
<li><p>输入的消息绑定v-model inputMessage</p>
</li>
</ul>
<p><mark>那么，下面就可以定义消息变量以及相应发送消息的函数！</mark></p>
<p><strong>还是写在setup中 并注意return给前端使用</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//const inputUsername = ref(&quot;&quot;);</span></span><br><span class="line"><span class="keyword">const</span> inputMessage = ref(<span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> SendMessage = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">const</span> messagesRef = db.database().ref(<span class="string">&quot;messages&quot;</span>); <span class="comment">//firebase数据库</span></span><br><span class="line">	<span class="keyword">if</span>(inputMessage.value === <span class="string">&quot;&quot;</span> || inputMessage.value === value)&#123; <span class="comment">//用户不能发送空消息</span></span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">const</span> message = &#123; <span class="comment">//准备将发送的消息存储至数据库中</span></span><br><span class="line">		<span class="attr">username</span>: stae.username,</span><br><span class="line">		<span class="attr">content</span>: inputMessage.value</span><br><span class="line">	&#125;</span><br><span class="line">	messageRef.push(message); <span class="comment">//相当于MySQL中的insert firebase是基于JSON的 故用push</span></span><br><span class="line">	inputMessage.value = <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p><strong>那么，到目前位置，我们写入数据库的操作就写完了。</strong></p>
<p><img   src="https://img-blog.csdnimg.cn/20210504201725607.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<ul>
<li><p>但是现在是无法实时看到，任何用户发送的消息的，为什么？</p>
</li>
<li><p>因为，我们虽然存储到了firebase数据库中去，但是我们每次v-for取出的数据，是从state中取出的</p>
</li>
</ul>
<p><strong>因此，下一步我们需要，在进入聊天室时，将数据库中的数据赋给state</strong></p>
<ol start="5">
<li>firebase检索数据(写在onMounted钩子函数中)</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> messagesRef = db.database().ref(<span class="string">&quot;messages&quot;</span>); <span class="comment">//选择数据库</span></span><br><span class="line">  messagesRef.on(<span class="string">&#x27;value&#x27;</span>, <span class="function"><span class="params">snapshot</span> =&gt;</span> &#123; <span class="comment">//on 用于firebase数据库检索数据</span></span><br><span class="line">	<span class="keyword">const</span> data = snapshot.val();</span><br><span class="line">	<span class="keyword">let</span> messages = [];</span><br><span class="line">	<span class="built_in">Object</span>.keys(data).forEach(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">	  messages.push(&#123;</span><br><span class="line">		<span class="attr">id</span>: key,</span><br><span class="line">		<span class="attr">username</span>: data[key].username,</span><br><span class="line">		<span class="attr">content</span>: data[key].content</span><br><span class="line">	  &#125;);</span><br><span class="line">	&#125;);</span><br><span class="line">	state.messages = messages;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>

<p><strong>其中，data是我们从数据库中查询到的所有数据。</strong></p>
<p><strong>如果我们试着打印以下内容，你会发现：</strong></p>
<p><img   src="https://img-blog.csdnimg.cn/20210504202829214.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<p><em>因为，Firebase中存储的信息都是JSON对象，那么，我们就要用相应的方法来遍历每个对象，并将所有对象存储在messages中</em></p>
<p><strong>最后将messages的内容，赋给我们的state 好让我们的v-for循环遍历数据可以生效！</strong></p>
<p><strong>并且值得注意的是，每次有新的内容添加至数据库时（即每次发送消息时）</strong></p>
<ul>
<li>这个messagesRef.on(‘value’, …) 都会被调用一次，我们可以看成是事件监听（每当有新的数据时，会被调用！)</li>
</ul>

        <h1 id="文末总结"   >
          <a href="#文末总结" class="heading-link"><i class="fas fa-link"></i></a><a href="#文末总结" class="headerlink" title="文末总结"></a>文末总结</h1>
      <p>P.S. 该文所有的代码以及教程均来自YT博主（非自己原创）只不过自己以文字思路的形式写成笔记而已</p>
<ol>
<li><p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/TylerPottsDev/FireChat-Vue" >点我查看源码地址</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
</li>
<li><p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=72Fk9i9HcZM&t=197s" >点我查看视频教学</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
</li>
</ol>
<p><strong>如果哪里有写的不对的地方，多多包涵，请于文章下方的评论区告知，谢谢！</strong></p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/04/27/VUE%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95%E5%8F%8A%E7%9B%B8%E5%BA%94%E5%BA%94%E7%94%A8-2/">VUE2.0学习笔记-基础语法及其应用-2-深入组件开发</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-04-27</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-06-25</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">4.2k</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">30分</span></span></div></header><div class="post-body"><div class="post-excerpt"><p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://www.jspang.com/detailed?id=69" >（转）本文笔记&amp;源码地址_JS胖</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>

        <h1 id="了解组件，什么是组件概念？"   >
          <a href="#了解组件，什么是组件概念？" class="heading-link"><i class="fas fa-link"></i></a><a href="#了解组件，什么是组件概念？" class="headerlink" title="了解组件，什么是组件概念？"></a>了解组件，什么是组件概念？</h1>
      <p><img   src="https://img-blog.csdnimg.cn/20210427202040534.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70" style="width: image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,tepx;height: t_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQzNDQ1MDY3,size_16,color_FFFFFF,t_70px;"  alt="在这里插入图片描述"></p>
<p>从图中我们可以看到，总共的<strong>大区域分为了三个板块</strong></p>
<p><strong>上面一个Header，下面左边一个LeftSide以及右边的RightSide</strong></p>
<p>根据每个区域，又可以分为两个（最下层的绿色中间）、以及三个（最下层的绿色右边）</p>

        <h2 id="组件定义："   >
          <a href="#组件定义：" class="heading-link"><i class="fas fa-link"></i></a><a href="#组件定义：" class="headerlink" title="组件定义："></a>组件定义：</h2>
      <p><strong>所谓组件，我们就可以看成是：一个页面中的某一个Section，通过不同的组件共同拼凑</strong></p>
<p>从而，形成一个完整的组件，这也是目前前端最流行的开发方式：</p>
<p><strong>vue_component.html</strong></p>
<figure class="highlight html"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> app=Vue.createApp(&#123; &#125;)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> vm=app.mount(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></div></figure>

<p><strong>我们可以看到，现在我们将一个新的VUE实例挂载到页面ID为app的区域</strong></p>

        <h1 id="定义全局组件并使用"   >
          <a href="#定义全局组件并使用" class="heading-link"><i class="fas fa-link"></i></a><a href="#定义全局组件并使用" class="headerlink" title="定义全局组件并使用"></a>定义全局组件并使用</h1>
      <p>现在我们的app可以注册全局的组件，注册好后可以直接在根组件上进行使用</p>
<p><strong>比如我们要显示两个信息（紧接着上方的基本代码）</strong></p>
<ol>
<li><p>这是我的网站</p>
</li>
<li><p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://www.vincent990413.gitee.io/myblog" >https://www.vincent990413.gitee.io/myblog</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第一个全局组件</span></span><br><span class="line">app.component(<span class="string">&#x27;my-component-describe&#x27;</span>,&#123;</span><br><span class="line">	<span class="attr">template</span>:<span class="string">` &lt;h1&gt; 这是我的网站 &lt;/h1&gt; `</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//第二个全局组件</span></span><br><span class="line">app.component(<span class="string">&#x27;my-component-website&#x27;</span>,&#123;</span><br><span class="line">	<span class="attr">template</span>:<span class="string">` &lt;h1&gt; https://www.vincent990413.gitee.io/myblog &lt;/h1&gt;`</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></div></figure></li>
</ol>
<p><strong>以上就完成了对组件的定义，接下来我们要做的就是使用这些组件</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在创建实例的同时 使用自己的组件</span></span><br><span class="line"><span class="keyword">const</span> app = Vue.createApp(&#123;</span><br><span class="line">	<span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">		&lt;my-component-describe /&gt;</span></span><br><span class="line"><span class="string">		&lt;my-component-website /&gt;</span></span><br><span class="line"><span class="string">	`</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p><strong>可以将这些步骤想象成 “初始化数据” 初始化数据之后 -&gt; 最后一步才是挂载在网页中</strong></p>

        <h2 id="全局组件的可复用性"   >
          <a href="#全局组件的可复用性" class="heading-link"><i class="fas fa-link"></i></a><a href="#全局组件的可复用性" class="headerlink" title="全局组件的可复用性"></a>全局组件的可复用性</h2>
      <p><strong>什么叫可复用性，就是可重用性，我们将一个组件封装好之后，</strong></p>
<p><strong>可以在网页中的各个区域去重复引用这个组件</strong></p>

        <h2 id="全局组件的弊端？！"   >
          <a href="#全局组件的弊端？！" class="heading-link"><i class="fas fa-link"></i></a><a href="#全局组件的弊端？！" class="headerlink" title="全局组件的弊端？！"></a>全局组件的弊端？！</h2>
      <p><strong>全局组件是有弊端的，因为你处处都可以使用，但是性能不高，应用打开就开始复杂的初始化</strong></p>

        <h1 id="局部组件"   >
          <a href="#局部组件" class="heading-link"><i class="fas fa-link"></i></a><a href="#局部组件" class="headerlink" title="局部组件"></a>局部组件</h1>
      <p><strong>针对与局部组件：我现在不注册，我要用的时候才注册这个组件，才进行使用</strong></p>
<p><strong>而全局组件是，我不用之前一直都被注册了，一直都存在在那里！</strong></p>
<p><mark>我们可以把局部组件，想象成，一个变量！我定义这个变量，我用的时候再注册它。</mark></p>

        <h2 id="创建局部组件"   >
          <a href="#创建局部组件" class="heading-link"><i class="fas fa-link"></i></a><a href="#创建局部组件" class="headerlink" title="创建局部组件"></a>创建局部组件</h2>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> myComponentCounter = &#123;</span><br><span class="line">	<span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span>&#123;</span><br><span class="line">			<span class="attr">count</span>: <span class="number">0</span>  </span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">template</span>:<span class="string">` &lt;div&gt; &#123;&#123;count&#125;&#125; &lt;button @click=&quot; count++ &quot;&gt;增加1&lt;/button&gt; &lt;/div&gt; `</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p><strong>通过这种定义“变量”的方式，我们就已经定义好一个组件了，接下来我们需要在vue.CreateApp()方法里去注册</strong></p>
<p><strong>直接用component: { myComponentCounter }, 声明即可</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app = Vue.CreateApp(&#123;</span><br><span class="line">	<span class="attr">components</span>: &#123;<span class="string">&#x27;my-component-counter&#x27;</span>:myComponentCounter&#125;, <span class="comment">//声明我的组件 前面的别名可以去掉</span></span><br><span class="line">	<span class="attr">template</span>: <span class="string">`</span></span><br><span class="line"><span class="string">		&lt;h1&gt;这是我的网站&lt;/h1&gt;</span></span><br><span class="line"><span class="string">		&lt;my-component-counter/&gt; </span></span><br><span class="line"><span class="string">	`</span>	<span class="comment">//在父组件中的任何位置 都可以调用已经注册了的组件</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p><strong>我们的局部组件一般使用驼峰命名法</strong></p>
<p><strong>但多个单词，我们应该遵守规范，</strong></p>
<p><strong>1. const变量用驼峰myComponentCounter</strong></p>
<p><strong>2. 起别名时 单引号且中间加- 小写每个字母: my-component-counter</strong></p>
<p>(具体见上方代码)</p>

        <h1 id="父组件与子组件以及他们之间的静态、动态传值"   >
          <a href="#父组件与子组件以及他们之间的静态、动态传值" class="heading-link"><i class="fas fa-link"></i></a><a href="#父组件与子组件以及他们之间的静态、动态传值" class="headerlink" title="父组件与子组件以及他们之间的静态、动态传值"></a>父组件与子组件以及他们之间的静态、动态传值</h1>
      
        <h2 id="什么是父组件，什么是子组件？"   >
          <a href="#什么是父组件，什么是子组件？" class="heading-link"><i class="fas fa-link"></i></a><a href="#什么是父组件，什么是子组件？" class="headerlink" title="什么是父组件，什么是子组件？"></a>什么是父组件，什么是子组件？</h2>
      <p><mark>我们在父组件中，定义子组件并使用子组件</mark></p>
<p><strong>被注册，被使用的那个组件叫做：子组件</strong></p>
<p><strong>使用 “定义好的组件” 的组件叫做父组件</strong></p>

        <h2 id="定义全局组件Son-并在父组件中使用"   >
          <a href="#定义全局组件Son-并在父组件中使用" class="heading-link"><i class="fas fa-link"></i></a><a href="#定义全局组件Son-并在父组件中使用" class="headerlink" title="定义全局组件Son 并在父组件中使用"></a>定义全局组件Son 并在父组件中使用</h2>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">app.component(<span class="string">&#x27;Son&#x27;</span>,&#123;</span><br><span class="line">	<span class="attr">template</span>: <span class="string">`</span></span><br><span class="line"><span class="string">		&lt;div&gt; 这是子组件 Son div &lt;/div&gt;</span></span><br><span class="line"><span class="string">	`</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = Vue.CreateApp(&#123;</span><br><span class="line">	<span class="attr">template</span>: <span class="string">`</span></span><br><span class="line"><span class="string">		&lt;h1&gt;下面调用子组件&lt;/h1&gt;</span></span><br><span class="line"><span class="string">		&lt;Son /&gt; </span></span><br><span class="line"><span class="string">	`</span></span><br><span class="line">	<span class="comment">// 调用Son 子组件</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> vm=app.mount(<span class="string">&quot;#app&quot;</span>)</span><br></pre></td></tr></table></div></figure>


        <h2 id="父组件的参数传给子组件（静态传值）"   >
          <a href="#父组件的参数传给子组件（静态传值）" class="heading-link"><i class="fas fa-link"></i></a><a href="#父组件的参数传给子组件（静态传值）" class="headerlink" title="父组件的参数传给子组件（静态传值）"></a>父组件的参数传给子组件（静态传值）</h2>
      <p><strong>所谓父组件向子组件传值，就是在调用子组件的时候，静态绑定props参数</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//父组件传入name参数 那么子组件就要有一个name处于prop数组中</span></span><br><span class="line">&lt;Son name = <span class="string">&quot;vincent&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">app.component(<span class="string">&#x27;Son&#x27;</span>,&#123;</span><br><span class="line">	<span class="attr">prop</span>:[<span class="string">&#x27;name&#x27;</span>]</span><br><span class="line">	<span class="attr">template</span>: <span class="string">`</span></span><br><span class="line"><span class="string">		&lt;div&gt; 这是子组件，父组件传过来的参数name值为：&#123;&#123;name&#125;&#125; &lt;/div&gt;</span></span><br><span class="line"><span class="string">	`</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p><strong>这种方法是静态传输，一旦运行起来，就无法改变了</strong></p>

        <h2 id="父组件的参数传给子组件（动态传值）"   >
          <a href="#父组件的参数传给子组件（动态传值）" class="heading-link"><i class="fas fa-link"></i></a><a href="#父组件的参数传给子组件（动态传值）" class="headerlink" title="父组件的参数传给子组件（动态传值）"></a>父组件的参数传给子组件（动态传值）</h2>
      <p><strong>一般我们利用：将父组件中data中的参数与传入子组件的参数进行绑定</strong></p>
<p><strong>从而使得传入的值，是动态的，是可变的</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app = Vue.CreateApp(&#123;</span><br><span class="line">	<span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span>&#123;</span><br><span class="line">			<span class="attr">name</span>: <span class="string">&#x27;Beatrix&#x27;</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">template</span>: <span class="string">`</span></span><br><span class="line"><span class="string">		&lt;h1&gt;下面调用子组件&lt;/h1&gt;</span></span><br><span class="line"><span class="string">		&lt;Son :name=&quot;name&quot; /&gt;  </span></span><br><span class="line"><span class="string">	`</span></span><br><span class="line">	<span class="comment">// 此时是动态传入给子组件的参数 </span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.component(<span class="string">&#x27;Son&#x27;</span>,&#123;</span><br><span class="line">	<span class="attr">prop</span>:[<span class="string">&#x27;name&#x27;</span>]</span><br><span class="line">	<span class="attr">template</span>: <span class="string">`</span></span><br><span class="line"><span class="string">		&lt;div&gt; 这是子组件，父组件传过来的参数name值为：&#123;&#123;name&#125;&#125; &lt;/div&gt;</span></span><br><span class="line"><span class="string">	`</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p><strong>这样通过修改data中的参数 完成动态绑定</strong></p>

        <h2 id="父组件的参数传给子组件（传入函数参数）"   >
          <a href="#父组件的参数传给子组件（传入函数参数）" class="heading-link"><i class="fas fa-link"></i></a><a href="#父组件的参数传给子组件（传入函数参数）" class="headerlink" title="父组件的参数传给子组件（传入函数参数）"></a>父组件的参数传给子组件（传入函数参数）</h2>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//父组件</span></span><br><span class="line"><span class="keyword">const</span> app=Vue.createApp(&#123;</span><br><span class="line">	<span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span>&#123;</span><br><span class="line">			<span class="attr">name</span>: <span class="string">&#x27;Beatrix&#x27;</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">methods</span>:&#123;</span><br><span class="line">		<span class="function"><span class="title">talk</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="string">&quot;你好，我是Vincent.&quot;</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">		&lt;h1&gt;下面调用子组件并传入函数参数talk&lt;/h1&gt;</span></span><br><span class="line"><span class="string">		&lt;Son :talk = &quot;talk&quot; /&gt;</span></span><br><span class="line"><span class="string">	`</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//子组件</span></span><br><span class="line">app.component(<span class="string">&#x27;Son&#x27;</span>, &#123;</span><br><span class="line">	<span class="attr">props</span>:[<span class="string">&#x27;talk&#x27;</span>],</span><br><span class="line">	<span class="attr">methods</span>:&#123;</span><br><span class="line">		<span class="function"><span class="title">buttonTalk</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">			<span class="comment">//弹窗显示 父组件传来的函数参数</span></span><br><span class="line">			alert(<span class="built_in">this</span>.talk())</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">		&lt;div&gt; 这是子组件Beatrix，我想知道你是谁？&lt;/div&gt;</span></span><br><span class="line"><span class="string">		&lt;div&gt; &lt;button @click=&quot;buttonTalk&quot;&gt;点我就知道了&lt;/button&gt; &lt;/div&gt;</span></span><br><span class="line"><span class="string">	`</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> vm=app.mount(<span class="string">&quot;#app&quot;</span>)</span><br></pre></td></tr></table></div></figure>

        <h2 id="父组件的参数传给子组件（Slot插槽）"   >
          <a href="#父组件的参数传给子组件（Slot插槽）" class="heading-link"><i class="fas fa-link"></i></a><a href="#父组件的参数传给子组件（Slot插槽）" class="headerlink" title="父组件的参数传给子组件（Slot插槽）"></a>父组件的参数传给子组件（Slot插槽）</h2>
      <p><strong>这种情况适用于，父组件传入给子组件一段HTML代码，欲在部分区域显示：</strong></p>
<ol>
<li><p>在子组件想要显示的区域，声明插槽</p>
</li>
<li><p>在父组件使用子组件的双标签形式，并插入HTML代码/其他子组件 <code>&lt;Son&gt; &lt;div&gt; &#123;&#123;counter&#125;&#125;: &lt;my-component-others /&gt;&lt;/div&gt; &lt;/Son&gt;</code> </p>
</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app = Vue.createApp(&#123;</span><br><span class="line">	<span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span>&#123;</span><br><span class="line">			<span class="attr">counter</span>:<span class="number">1</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">		&lt;h1&gt;父组件调用子组件并传入HTML代码/其他组件&lt;/h1&gt;</span></span><br><span class="line"><span class="string">		&lt;Son&gt; &lt;div style=&quot;background-color:red;&quot;&gt; &#123;&#123; counter &#125;&#125;&lt;/div&gt; &lt;/Son&gt;</span></span><br><span class="line"><span class="string">	`</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.component(<span class="string">&#x27;Son&#x27;</span>, &#123;</span><br><span class="line">	<span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span>&#123;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">methods</span>:&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">		&lt;h1&gt;子组件的标题&lt;/h1&gt;</span></span><br><span class="line"><span class="string">		&lt;slot&gt;&lt;/slot&gt;</span></span><br><span class="line"><span class="string">	`</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> vm = app.mount(<span class="string">&quot;#app&quot;</span>)</span><br></pre></td></tr></table></div></figure>

<p><mark>值得注意的是，当父组件与子组件具有同名的变量时，我们父组件传入参数时，子组件的slot中会显示父组件的属性。</mark></p>
<ul>
<li><p>父模板里调用的数据属性，使用的都是父模板里的数据。</p>
</li>
<li><p>子模板里调用的数据属性，使用的都是子模板里的数据。</p>
</li>
</ul>
<p><code>&#123;&#123;counter&#125;&#125;</code> 是在父模板中调用的，那么使用的是父模板的数据。</p>

        <h3 id="slot中的默认数据"   >
          <a href="#slot中的默认数据" class="heading-link"><i class="fas fa-link"></i></a><a href="#slot中的默认数据" class="headerlink" title="slot中的默认数据"></a>slot中的默认数据</h3>
      <p><strong>当slot中无数据传递过来是，写在slot中的数据就是默认显示数据。</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;slot&gt; 这是默认数据 &lt;/slot&gt;</span><br></pre></td></tr></table></div></figure>


        <h3 id="指定若干个插槽的位置-指定不同的name"   >
          <a href="#指定若干个插槽的位置-指定不同的name" class="heading-link"><i class="fas fa-link"></i></a><a href="#指定若干个插槽的位置-指定不同的name" class="headerlink" title="指定若干个插槽的位置(指定不同的name)"></a>指定若干个插槽的位置(指定不同的name)</h3>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">app.component(<span class="string">&#x27;Son&#x27;</span>,&#123;</span><br><span class="line">	<span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">		&lt;slot name=&quot;first&quot;&gt;&lt;/slot&gt; </span></span><br><span class="line"><span class="string">		&lt;div&gt;这是第二个&lt;/div&gt;</span></span><br><span class="line"><span class="string">		&lt;slot name=&quot;third&quot;&gt;&lt;/slot&gt;</span></span><br><span class="line"><span class="string">	`</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p><strong>我们可以看到，指定了name显示区域，在父组件传值的时候，也指定显示在对应name的区域即可。</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app = Vue.createApp(&#123;</span><br><span class="line">	<span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span>&#123;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">methods</span>:&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">		&lt;Son&gt;</span></span><br><span class="line"><span class="string">			&lt;template v-slot:first&gt; &lt;div&gt;这是First的参数值&lt;/div&gt; &lt;/template&gt;</span></span><br><span class="line"><span class="string">			&lt;template v-slot:third&gt; &lt;div&gt;这是third的参数值&lt;/div&gt; &lt;/template&gt;</span></span><br><span class="line"><span class="string">		&lt;/Son&gt;</span></span><br><span class="line"><span class="string">	`</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>
<p><strong>在代码中，我们可以看到，利用 <code>v-slot:XX</code> 可以指定显示在对应子组件name为XX的区域</strong></p>
<p><mark>也可以简写成 <code>#XX</code> </mark></p>

        <h1 id="子组件"   >
          <a href="#子组件" class="heading-link"><i class="fas fa-link"></i></a><a href="#子组件" class="headerlink" title="子组件"></a>子组件</h1>
      
        <h2 id="子组件向父组件传递数据"   >
          <a href="#子组件向父组件传递数据" class="heading-link"><i class="fas fa-link"></i></a><a href="#子组件向父组件传递数据" class="headerlink" title="子组件向父组件传递数据"></a>子组件向父组件传递数据</h2>
      <ul>
<li><p>子组件调用父组件事件</p>
</li>
<li><p>子组件向父组件事件中传递参数</p>
</li>
<li><p>子组件传递参数时，如何通过<code>emits</code>进行校验</p>
</li>
</ul>
<p><strong>根据组件之间的单向数据流，子组件是没办法直接更改父组件传递过来的参数</strong></p>
<p><strong>解决办法</strong></p>
<p><strong>1. 将父组件传递过来的参数赋给子组件的数据 在子组件中更改自己的数据（本段稍后一点内容）</strong></p>
<p><strong>2. 我们可以调用父组件的 “可以改变这个参数值” 的方法，本质上是父组件来改变（紧接着读下去）</strong></p>
<p>比如：我们用父组件更改传递给子组件的counter变量（用一个方法）</p>
<p>在子组件中调用这个方法</p>
<p><strong>仔细看懂，接下来的代码！</strong></p>
<p><strong>仔细看懂，接下来的代码！</strong></p>
<p><strong>仔细看懂，接下来的代码！</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//父组件</span></span><br><span class="line"><span class="keyword">const</span> app=Vue.createApp(&#123;</span><br><span class="line">	<span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span>&#123;</span><br><span class="line">			<span class="attr">counter</span>: <span class="number">1</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">methods</span>:&#123;</span><br><span class="line">	  <span class="function"><span class="title">parentUpdateCounter</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		  <span class="built_in">this</span>.counter++;</span><br><span class="line">	  &#125;      </span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">		&lt;h1&gt;下面调用子组件传入参数counter&lt;/h1&gt;</span></span><br><span class="line"><span class="string">		</span></span><br><span class="line"><span class="string">		&lt;h1&gt;子组件通过父组件的方法，更改这个传递过去的参数（注意区分直接赋给子组件中的data参数）&lt;/h1&gt;</span></span><br><span class="line"><span class="string">		</span></span><br><span class="line"><span class="string">		&lt;Son :counter=&quot;counter&quot; @parentUpdateCounter=&quot;parentUpdateCounter&quot;  /&gt;</span></span><br><span class="line"><span class="string">	`</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//子组件</span></span><br><span class="line">app.component(<span class="string">&#x27;Son&#x27;</span>, &#123;</span><br><span class="line">	<span class="attr">props</span>: [<span class="string">&#x27;counter&#x27;</span>],</span><br><span class="line">	<span class="attr">emits</span>:[<span class="string">&#x27;parentUpdateCounter&#x27;</span>],</span><br><span class="line">	<span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span>&#123;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">methods</span>:&#123;</span><br><span class="line">		<span class="function"><span class="title">childUpdate</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">			<span class="built_in">this</span>.$emit(<span class="string">&#x27;parentUpdateCounter&#x27;</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">		&lt;div&gt; 这是子组件，我想看到数据变化！&lt;/div&gt;</span></span><br><span class="line"><span class="string">		&lt;div&gt; &#123;&#123; childCounter &#125;&#125;  </span></span><br><span class="line"><span class="string">		   &#123;&#123; counter &#125;&#125; &lt;button @click=&quot; childUpdate &quot;&gt;点我就知道了&lt;/button&gt;</span></span><br><span class="line"><span class="string">		 &lt;/div&gt;</span></span><br><span class="line"><span class="string">	`</span></span><br><span class="line">	<span class="comment">//可以看到 上面是&#123;&#123; counter &#125;&#125; 直接引用父组件传过去的参数</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> vm=app.mount(<span class="string">&quot;#app&quot;</span>)</span><br></pre></td></tr></table></div></figure>


        <h3 id="关键代码："   >
          <a href="#关键代码：" class="heading-link"><i class="fas fa-link"></i></a><a href="#关键代码：" class="headerlink" title="关键代码："></a>关键代码：</h3>
      <p><strong>1. 首先在父组件中定义传递过去的变量counter <code>data()&#123;return&#123; counter:1 &#125;&#125;</code></strong></p>
<p><strong>2. 父组件传递过去 <code>&lt;Son :counter=&quot;counter&quot; /&gt;</code></strong></p>
<p><strong>3. 子组件中声明props用来接收 <code>props:[ &#39;counter&#39; ]</code></strong></p>
<p><strong>4. 父组件中写可以更改counter变量的方法 <code>methods:&#123;parentUpdateCounter()&#123;this.counter++&#125;&#125;</code></strong></p>
<p><strong>5. 父组件传递过去 <code>&lt;Son :counter=&quot;counter&quot; @parentUpdateCounter=&quot;parentUpdateCounter&quot;/&gt;</code> (@引用名=“父组件方法名”)</strong></p>
<p><strong>6. 子组件中声明emits用来接收 <code>emits:[&#39;parentUpdateCounter&#39;]</code>(与父组件传递过来的引用名一致)</strong></p>
<p><strong>7. 子组件在需要的时候(一般在子组件自己的方法内部)，调用这个父组件的引用名（代表对应的父组件方法）<code>this.$emit(&#39;parentUpdateCounter&#39;)</code></strong></p>

        <h2 id="子组件利用slot向父组件传递List中的数据"   >
          <a href="#子组件利用slot向父组件传递List中的数据" class="heading-link"><i class="fas fa-link"></i></a><a href="#子组件利用slot向父组件传递List中的数据" class="headerlink" title="子组件利用slot向父组件传递List中的数据"></a>子组件利用slot向父组件传递List中的数据</h2>
      <p><strong>在Javascript中的list中，我们视为对象，因此调用属性是需要 <code>obj.item</code></strong></p>
<ol>
<li>为子组件中添加list数据<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">app.component(<span class="string">&#x27;Son&#x27;</span>,&#123;</span><br><span class="line">	<span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span>&#123;</span><br><span class="line">			<span class="attr">names</span>: [<span class="string">&#x27;Vincent&#x27;</span>, <span class="string">&#x27;Beatrix&#x27;</span>, <span class="string">&#x27;James&#x27;</span>]</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">		&lt;div&gt;</span></span><br><span class="line"><span class="string">			&lt;slot v-for=&quot;name in names&quot; :item=&quot;name&quot;&gt; &lt;/slot&gt;</span></span><br><span class="line"><span class="string">		&lt;/div&gt;</span></span><br><span class="line"><span class="string">	`</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure></li>
</ol>
<ul>
<li>最重要的就是我们为这个插槽，绑定了item属性，这样父组件可以调用到这个属性。</li>
</ul>
<ol start="2">
<li>父组件调用这个子组件，并得到绑定的item值<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app=Vue.createApp(&#123;</span><br><span class="line">	<span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span>&#123;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">			&lt;Son v-slot=&quot;props&quot;&gt; </span></span><br><span class="line"><span class="string">				&lt;div&gt; &#123;&#123; props.item &#125;&#125; &lt;/div&gt;</span></span><br><span class="line"><span class="string">			&lt;/Son&gt;</span></span><br><span class="line"><span class="string">		`</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure></li>
</ol>
<ul>
<li>props可以任意取名字，但是一定是要绑定<code>item</code>这个属性</li>
</ul>

        <h1 id="校验器（引入-ElementUI）"   >
          <a href="#校验器（引入-ElementUI）" class="heading-link"><i class="fas fa-link"></i></a><a href="#校验器（引入-ElementUI）" class="headerlink" title="校验器（引入 ElementUI）"></a>校验器（引入 ElementUI）</h1>
      <p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://gitee.com/vincent990413/book-store-front-end" >点我，见图书管理系统的前端项目地址</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>

        <h1 id="组件之间的单向数据流"   >
          <a href="#组件之间的单向数据流" class="heading-link"><i class="fas fa-link"></i></a><a href="#组件之间的单向数据流" class="headerlink" title="组件之间的单向数据流"></a>组件之间的单向数据流</h1>
      <p><strong>一句话说明，就是数据从父级组件传递给子组件，只能这样单向（从父到子）绑定</strong></p>
<p><strong>子组件内部不能直接修改从父组件传递过来的数据</strong></p>
<p><strong>比如我们在父组件中定义一个计数器counter，传给子组件后，在子组件中更改这个数据</strong></p>
<p>结论是，我们没办法看到这个数据的变化。</p>
<p><mark>既然我们没办法，直接改变父组件传过来的变量，不如我们只更改子组件data中的变量</mark></p>
<p><strong>但将这个子组件data中的变量 赋值为父组件传过来的变量</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">比如父组件传过来的变量为counter</span><br><span class="line"></span><br><span class="line"><span class="comment">//父组件</span></span><br><span class="line"><span class="keyword">const</span> app=Vue.createApp(&#123;</span><br><span class="line">	<span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span>&#123;</span><br><span class="line">			<span class="attr">counter</span>: <span class="number">1</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">methods</span>:&#123;</span><br><span class="line"></span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">		&lt;h1&gt;下面调用子组件并静态传入函数参数talk&lt;/h1&gt;</span></span><br><span class="line"><span class="string">		&lt;Son :counter = &quot;counter&quot; /&gt;</span></span><br><span class="line"><span class="string">	`</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//子组件中</span></span><br><span class="line">app.component(<span class="string">&#x27;myComponentCounter&#x27;</span>,&#123;</span><br><span class="line">	<span class="attr">props</span>: [<span class="string">&#x27;counter&#x27;</span>],</span><br><span class="line">	<span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span>&#123;</span><br><span class="line">			<span class="comment">//关键一步，我们赋给可以改变的childCounter</span></span><br><span class="line">			<span class="attr">childCounter</span>: <span class="built_in">this</span>.counter</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">		&#123;&#123; childCounter &#125;&#125; &lt;button @click=&quot; childCounter++ &quot;&gt; 点我可以看到数据的变化 &lt;/button&gt;</span></span><br><span class="line"><span class="string">	`</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p><strong>这样我们就可以看到数据的变化了！</strong></p>
<ul>
<li>思考，为什么要有单向数据流的概念呢？</li>
<li>因为，如果父组件使用多个相同的子组件，传入不同的参数，我们希望这些子组件互不干扰。</li>
</ul>
<p><strong>也就是说，子组件不能直接更改父组件的数据，而是更改自己的数据。</strong></p>

        <h1 id="异步组件和Promise讲解"   >
          <a href="#异步组件和Promise讲解" class="heading-link"><i class="fas fa-link"></i></a><a href="#异步组件和Promise讲解" class="headerlink" title="异步组件和Promise讲解"></a>异步组件和Promise讲解</h1>
      
        <h2 id="异步的概念"   >
          <a href="#异步的概念" class="heading-link"><i class="fas fa-link"></i></a><a href="#异步的概念" class="headerlink" title="异步的概念"></a>异步的概念</h2>
      <p><strong>所谓异步，就是几个操作不是按严格的顺序执行（真正的执行顺序未知）</strong></p>
<p><strong>与它相反的概念是同步：</strong></p>
<ul>
<li>举个例子，如何将大象塞到冰箱里？</li>
</ul>
<ol>
<li><p>打开冰箱</p>
</li>
<li><p>将大象塞进去</p>
</li>
<li><p>关掉冰箱门</p>
</li>
</ol>
<p>以上的操作就是同步的，具有严格的前后时序。</p>
<p><em>一般而言，我们将经常要去后台请求数据的业务/组件，封装成异步的。</em></p>

        <h2 id="Promise"   >
          <a href="#Promise" class="heading-link"><i class="fas fa-link"></i></a><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h2>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">app.component(<span class="string">&#x27;async-component&#x27;</span>,Vue.defineAsyncComponent(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            resolve(&#123;</span><br><span class="line">                <span class="attr">template</span>:<span class="string">`&lt;div&gt;这是一个异步组件&lt;/div&gt;`</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,<span class="number">3000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></div></figure>

<p><strong>我们在调用这个组件时，三秒钟后，会出现对应组件中的内容</strong></p>
<ul>
<li>关于Promise的概念，详情<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://vincent990413.gitee.io/myblog/2021/03/15/JavaScript/#promise-%E7%B1%BB%E8%A7%A3%E5%86%B3%E5%89%8D%E7%AB%AF%E5%BC%82%E6%AD%A5%E8%B0%83%E7%94%A8%E5%90%8E%E5%8F%B0%E6%95%B0%E6%8D%AE" >点我去JavaSCript基础教程</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
</ul>

        <h1 id="爷孙级别组件数据传递（多用于多级组件）"   >
          <a href="#爷孙级别组件数据传递（多用于多级组件）" class="heading-link"><i class="fas fa-link"></i></a><a href="#爷孙级别组件数据传递（多用于多级组件）" class="headerlink" title="爷孙级别组件数据传递（多用于多级组件）"></a>爷孙级别组件数据传递（多用于多级组件）</h1>
      
        <h2 id="顺序依次继承数据"   >
          <a href="#顺序依次继承数据" class="heading-link"><i class="fas fa-link"></i></a><a href="#顺序依次继承数据" class="headerlink" title="顺序依次继承数据"></a>顺序依次继承数据</h2>
      <p><strong>如果有一个爷爷，他现在有一套房子（北京四合院），想过继下去。</strong></p>
<p>我们就可以实现：</p>
<ol>
<li>从爷爷过继给父亲，再从父亲过继给孙子 props参数<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app=Vue.createApp(&#123;</span><br><span class="line">	<span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span>&#123;</span><br><span class="line">			<span class="attr">house</span>: <span class="string">&#x27;北京四合院，价值8000万！&#x27;</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">		&lt;h1&gt; 这是爷爷，爷爷过继给儿子！ &lt;/h1&gt;</span></span><br><span class="line"><span class="string">		&lt;Son :house=&quot;house&quot; /&gt;</span></span><br><span class="line"><span class="string">	`</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.component(<span class="string">&#x27;Son&#x27;</span>,&#123;</span><br><span class="line">	<span class="attr">props</span>:[<span class="string">&#x27;house&#x27;</span>],</span><br><span class="line">	<span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">		&lt;h2&gt;儿子接受房子，这个房子是： &#123;&#123; house &#125;&#125; &lt;h2&gt;</span></span><br><span class="line"><span class="string">		&lt;h2&gt;儿子继续过继给孙子&lt;/h2&gt;</span></span><br><span class="line"><span class="string">		&lt;Grandson :house=&quot;house&quot; /&gt;</span></span><br><span class="line"><span class="string">	`</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.component(<span class="string">&#x27;Grandson&#x27;</span>,&#123;</span><br><span class="line">	<span class="attr">props</span>:[<span class="string">&#x27;house&#x27;</span>],</span><br><span class="line">	<span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">		&lt;h3&gt;这是孙子，接受房子，房子信息是： &#123;&#123;house&#125;&#125; &lt;/h3&gt;</span></span><br><span class="line"><span class="string">	`</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> vm=app.mount(<span class="string">&quot;#app&quot;</span>)</span><br></pre></td></tr></table></div></figure></li>
</ol>
<p><strong>这样通过依次继承的方法，的确可以做到将“爷爷”级别的组件数据传递给“孙子”组件</strong></p>
<p><em>但如果项目中出现5，6次继承层次的孙孙孙…这样代码就太冗余了</em></p>

        <h2 id="指定组件层次接受参数-Provide-amp-Inject"   >
          <a href="#指定组件层次接受参数-Provide-amp-Inject" class="heading-link"><i class="fas fa-link"></i></a><a href="#指定组件层次接受参数-Provide-amp-Inject" class="headerlink" title="指定组件层次接受参数 Provide&amp;Inject"></a>指定组件层次接受参数 Provide&amp;Inject</h2>
      <p><strong>Provide意为提供参数，Inject引入接受、注入参数</strong></p>
<p><strong>也就是说，我们在“祖先”级别的组件提供某个参数，可以跳过中间的若干个组件，直接过继给指定的组件</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app=Vue.createApp(&#123;</span><br><span class="line">	<span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span>&#123;</span><br><span class="line">			<span class="attr">house</span>: <span class="string">&#x27;北京四合院，价值8000万！&#x27;</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">provide</span>:&#123;</span><br><span class="line">		<span class="attr">houseDirectlyToGrandson</span>: <span class="string">&#x27;给孙子的海景房！&#x27;</span></span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">			&lt;h1&gt; 这是爷爷，爷爷不过继给儿子，直接给孙子！ &lt;/h1&gt;</span></span><br><span class="line"><span class="string">			&lt;Son/&gt;</span></span><br><span class="line"><span class="string">		`</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.component(<span class="string">&#x27;Son&#x27;</span>,&#123;</span><br><span class="line">	<span class="attr">props</span>:[<span class="string">&#x27;house&#x27;</span>],</span><br><span class="line">	<span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">		&lt;h2&gt;这是儿子，不接受参数，不传递参数！&lt;/h2&gt;</span></span><br><span class="line"><span class="string">		&lt;Grandson/&gt;</span></span><br><span class="line"><span class="string">	`</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.component(<span class="string">&#x27;Grandson&#x27;</span>,&#123;</span><br><span class="line">	<span class="attr">props</span>:[<span class="string">&#x27;house&#x27;</span>],</span><br><span class="line">	<span class="attr">inject</span>:[<span class="string">&#x27;houseDirectlyToGrandson&#x27;</span>],</span><br><span class="line">	<span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">		&lt;h3&gt;这是孙子，接受房子，房子信息是： &#123;&#123;houseDirectlyToGrandson&#125;&#125; &lt;/h3&gt;</span></span><br><span class="line"><span class="string">	`</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> vm=app.mount(<span class="string">&quot;#app&quot;</span>)</span><br></pre></td></tr></table></div></figure>

<p><strong>关键代码：</strong></p>
<ol>
<li><p>在爷爷组件中，提供属性 <code>provide:&#123; newHounse:&#39;新房子&#39; &#125;</code></p>
</li>
<li><p>在任意后代组件中，提供注入参数：<code>inject:[&#39;newHouse&#39;]</code> 即可引用</p>
</li>
</ol>
<ul>
<li><p>如果这种层级关系达到5-6级，再使用props进行传递，那就会非常麻烦，而且会有大量的代码冗余。</p>
</li>
<li><p>使用provide和inject可以解决这个问题。</p>
</li>
</ul>
</div></div></article></section><nav class="paginator"><div class="paginator-inner"><a class="extend prev" rel="prev" href="/"><i class="fas fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/3/"><i class="fas fa-angle-right"></i></a></div></nav></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><section class="sidebar-toc hide"></section><!-- ov = overview--><section class="sidebar-ov"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/avatar.jpg" alt="avatar"></div><p class="sidebar-ov-author__text">C'est la vie</p></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">53</div><div class="sidebar-ov-state-item__name">归档</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--categories" href="/categories/"><div class="sidebar-ov-state-item__count">20</div><div class="sidebar-ov-state-item__name">分类</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--tags" href="/tags/"><div class="sidebar-ov-state-item__count">21</div><div class="sidebar-ov-state-item__name">标签</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="知识共享许可协议" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2021</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>何水浪</span></div><div><span>由 <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> 强力驱动</span><span> v5.4.0</span><span class="footer__devider">|</span><span>主题 - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.6.2</span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><div class="search-mask"></div><div class="search-popup"><span class="search-close"></span><div class="search-input"><input placeholder="搜索文章（支持多关键词，请用空格分隔）"></div><div class="search-results"></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script>function initSearch() {
  var isXML = true;
  var search_path = 'search.json';

  if (!search_path) {
    search_path = 'search.xml';
  } else if (/json$/i.test(search_path)) {
    isXML = false;
  }

  var path = '/' + search_path;
  $.ajax({
    url: path,
    dataType: isXML ? 'xml' : 'json',
    async: true,
    success: function (res) {
      var datas = isXML ? $('entry', res).map(function () {
        // 将 XML 转为 JSON
        return {
          title: $('title', this).text(),
          content: $('content', this).text(),
          url: $('url', this).text()
        };
      }).get() : res;
      var $input = $('.search-input input');
      var $result = $('.search-results');
      // 搜索对象（标题、内容）的权重，影响显示顺序
      var WEIGHT = { title: 100, content: 1 };
      var searchPost = function () {
        var searchText = $input.val().toLowerCase().trim();
        // 根据空白字符分隔关键字
        var keywords = searchText.split(/[\s]+/);
        // 搜索结果
        var matchPosts = [];

        // 有多个关键字时，将原文字整个保存下来
        if (keywords.length > 1) {
          keywords.push(searchText);
        }
        // 防止未输入字符时搜索
        if (searchText.length > 0) {
          datas.forEach(function (data) {
            var isMatch  = false;
            // 没有标题的文章使用预设的 i18n 变量代替
            var title = (data.title && data.title.trim()) || '[ 文章无标题 ]';
            var titleLower = title && title.toLowerCase();
            // 删除 HTML 标签 和 所有空白字符
            var content = data.content && data.content.replace(/<[^>]+>/g, '');
            var contentLower = content && content.toLowerCase();
            // 删除重复的 /
            var postURL = data.url && decodeURI(data.url).replace(/\/{2,}/g, '/');
            // 标题中匹配到的关键词
            var titleHitSlice = [];
            // 内容中匹配到的关键词
            var contentHitSlice = [];

            keywords.forEach(function (keyword) {
              /**
              * 获取匹配的关键词的索引
              * @param {String} keyword 要匹配的关键字
              * @param {String} text 原文字
              * @param {Boolean} caseSensitive 是否区分大小写
              * @param {Number} weight 匹配对象的权重。权重大的优先显示
              * @return {Array}
              */
              function getIndexByword (word, text, caseSensitive, weight) {
                if (!word || !text) {
                  return [];
                };

                var startIndex = 0; // 每次匹配的开始索引
                var index = -1;     // 匹配到的索引值
                var result = [];    // 匹配结果

                if (!caseSensitive) {
                  word = word.toLowerCase();
                  text = text.toLowerCase();
                }

                while((index = text.indexOf(word, startIndex)) !== -1) {
                  var hasMatch = false;
                  // 索引位置相同的关键词，保留长度较长的
                  titleHitSlice.forEach(function (hit) {
                    if (hit.index === index && hit.word.length < word.length) {
                      hit.word = word;
                      hasMatch = true;
                    }
                  });
                  startIndex = index + word.length;
                  !hasMatch && result.push({ index: index, word: word, weight: weight });
                }
                return result;
              }
              titleHitSlice = titleHitSlice.concat(getIndexByword(keyword, titleLower, false, WEIGHT.title));
              contentHitSlice = contentHitSlice.concat(getIndexByword(keyword, contentLower, false, WEIGHT.content));
            });

            var hitTitle = titleHitSlice.length;
            var hitContent = contentHitSlice.length;

            if (hitTitle > 0 || hitContent > 0) {
              isMatch = true;
            }
            if (isMatch) {
              ;[titleHitSlice, contentHitSlice].forEach(function (hit) {
                // 按照匹配文字的索引的递增顺序排序
                hit.sort(function (left, right) {
                  return left.index - right.index;
                });
              });
              /**
              * 给文本中匹配到的关键词添加标记，从而进行高亮显示
              * @param {String} text 原文本
              * @param {Array} hitSlice 匹配项的索引信息
              * @param {Number} start 开始索引
              * @param {Number} end 结束索引
              * @return {String}
              */
              function highlightKeyword (text, hitSlice, start, end) {
                if (!text || !hitSlice || !hitSlice.length) {
                  return;
                }

                var result = '';
                var startIndex = start;
                var endIndex = end;
                hitSlice.forEach(function (hit) {
                  if (hit.index < startIndex) {
                    return;
                  }

                  var hitWordEnd = hit.index + hit.word.length;
                  result += text.slice(startIndex, hit.index);
                  result += '<b>' + text.slice(hit.index, hitWordEnd) + '</b>';
                  startIndex = hitWordEnd;
                });
                result += text.slice(startIndex, endIndex);
                return result;
              }

              var postData = {};
              // 文章总的搜索权重
              var postWeight = titleHitSlice.length * WEIGHT.title + contentHitSlice.length * WEIGHT.content;
              // 标记匹配关键词后的标题
              var postTitle = highlightKeyword(title, titleHitSlice, 0, title.length) || title;
              // 标记匹配关键词后的内容
              var postContent;
              // 显示内容的长度
              var SHOW_WORD_LENGTH = 200;
              // 命中关键词前的字符显示长度
              var SHOW_WORD_FRONT_LENGTH = 20;
              var SHOW_WORD_END_LENGTH = SHOW_WORD_LENGTH - SHOW_WORD_FRONT_LENGTH;

              // 截取匹配的第一个字符，前后共 200 个字符来显示
              if (contentHitSlice.length > 0) {
                var firstIndex = contentHitSlice[0].index;
                var start = firstIndex > SHOW_WORD_FRONT_LENGTH ? firstIndex - SHOW_WORD_FRONT_LENGTH : 0;
                var end = firstIndex + SHOW_WORD_END_LENGTH;
                postContent = highlightKeyword(content, contentHitSlice, start, end);
              } else { // 未匹配到内容，直接截取前 200 个字符来显示
                postContent = content.slice(0, SHOW_WORD_LENGTH);
              }
              postData.title = postTitle;
              postData.content = postContent;
              postData.url = postURL;
              postData.weight = postWeight;
              matchPosts.push(postData);
            }
          });
        }

        var resultInnerHtml = '';
        if (matchPosts.length) {
          // 按权重递增的顺序排序，使权重大的优先显示
          matchPosts.sort(function (left, right) {
            return right.weight - left.weight;
          });
          resultInnerHtml += '<ul>';
          matchPosts.forEach(function (post) {
            resultInnerHtml += '<li><a class="search-results-title" href="' + post.url + '">';
            resultInnerHtml += post.title;
            resultInnerHtml += '</a><div class="search-results-content">';
            resultInnerHtml += post.content;
            resultInnerHtml += '</div></li>';
          });
          resultInnerHtml += '</ul>';
        } else {
          resultInnerHtml += '<div class="search-results-none"><i class="far fa-meh"></i></div>';
        }
        $result.html(resultInnerHtml);
      };
      $input.on('input', searchPost);
      $input.on('keyup', function (e) {
        if (e.keyCode === Stun.utils.codeToKeyCode('Enter')) {
          searchPost();
        }
      });
    }
  });
}

function closeSearch () {
  $('body').css({ overflow: 'auto' });
  $('.search-popup').css({ display: 'none' });
  $('.search-mask').css({ display: 'none' });
}

window.addEventListener('DOMContentLoaded', function () {
  Stun.utils.pjaxReloadLocalSearch = function () {
    $('.header-nav-search').on('click', function (e) {
      e.stopPropagation();
      $('body').css('overflow', 'hidden');
      $('.search-popup')
        .velocity('stop')
        .velocity('transition.expandIn', {
          duration: 300,
          complete: function () {
            $('.search-popup input').focus();
          }
        });
      $('.search-mask')
        .velocity('stop')
        .velocity('transition.fadeIn', {
          duration: 300
        });

      initSearch();
    });
    $('.search-mask, .search-close').on('click', function () {
      closeSearch();
    });
    $(document).on('keydown', function (e) {
      // Escape <=> 27
      if (e.keyCode === Stun.utils.codeToKeyCode('Escape')) {
        closeSearch();
      }
    });
  };

  Stun.utils.pjaxReloadLocalSearch();
}, false);

function safeOpenUrl(url) {
  var newTab = window.open();
  newTab.opener = null;
  newTab.location = url;
}

function extSearch(engine) {
  var engines = {
    google: 'https://www.google.com/search?q=',
    bing: 'https://cn.bing.com/search?q=',
    baidu: 'https://www.baidu.com/s?ie=UTF-8&wd=',
  };
  var host = window.location.host;
  var query = $('.search-input input').val().toLowerCase().trim();
  var uri = engines[engine] + query + ' site:' + host;

  if (query) {
    safeOpenUrl(uri);
  } else {
    Stun.utils.popAlert('warning', '请输入字符');
  }
}

var assistSearchList = window.CONFIG.assistSearch;

if (Array.isArray(assistSearchList)) {
  assistSearchList.forEach(function (name) {
    document.querySelector('.search-btns-item--' + name).addEventListener('click', function () {
      extSearch(name);
    }, false);
  });
}</script><script src="/js/utils.js?v=2.6.2"></script><script src="/js/stun-boot.js?v=2.6.2"></script><script src="/js/scroll.js?v=2.6.2"></script><script src="/js/header.js?v=2.6.2"></script><script src="/js/sidebar.js?v=2.6.2"></script><script type="application/json" src="/search.json"></script></body></html>